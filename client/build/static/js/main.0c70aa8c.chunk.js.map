{"version":3,"sources":["config.js","auth/index.js","Private.Routes.js","Admin.Routes.js","views/Cart/utils.js","components/Nav/index.js","store/Home/index.js","hoc/Layout/index.js","components/Product/index.js","components/Search/index.js","views/Home/index.js","store/Login/index.js","components/FormField/index.js","components/UIMessage/index.js","views/Login/index.js","store/Signup/index.js","views/Signup/index.js","components/Checkout/index.js","components/Checkout/utils.js","views/Cart/index.js","components/Account/index.js","views/UserAccount/index.js","views/UpdateAccount/index.js","store/Shop/index.js","components/CategorySelector/index.js","components/PriceRangeSelector/index.js","views/Shop/index.js","views/Product/index.js","views/ProductManagement/index.js","store/ProductEditor/index.js","views/ProductEditor/utils.js","views/ProductEditor/index.js","views/CategoryManagement/index.js","store/AddCategory/index.js","views/CategoryManagement/Add/index.js","views/AllOrders/index.js","views/UserOrders/index.js","Routes.js","index.js"],"names":["priceRanges","_id","name","range","SIGNUP_URL","LOGIN_URL","CLIENT_CART_URL","CLIENT_ACCOUNT_URL","CLIENT_ACCOUNT_UPDATE_URL","CLIENT_ORDER_HISTORY_URL","ADMIN_ACCOUNT_URL","ADMIN_ACCOUNT_UPDATE_URL","ADMIN_PRODUCT_MANAGEMENT_URL","ADMIN_ADD_PRODUCT_URL","ADMIN_UPDATE_PRODUCT_URL","ADMIN_CATEGORY_MANAGEMENT_URL","ADMIN_ADD_CATEGORY_URL","ADMIN_VIEW_ORDERS_URL","API_URL","process","GET_CATEGORIES_ROUTE","GET_PRODUCTS_ROUTE","FILTER_PRODUCTS_ROUTE","authenticateUser","data","next","window","localStorage","setItem","JSON","stringify","isAuth","getItem","parse","isAdmin","user","role","PrivateRoute","Component","component","rest","render","props","to","pathname","state","from","location","AdminRoute","emptyCart","removeItem","Nav","React","memo","links","useState","openNav","setOpenNav","Build","LocalShipping","MeetingRoom","AccountCircle","PersonAdd","ExitToApp","id","Button","onClick","MenuRounded","SwipeableDrawer","anchor","open","onOpen","onClose","List","map","linkData","i","ListItem","ListItemIcon","axios","get","then","res","catch","err","homeInitialState","productsBySales","productsByDate","sort","order","limit","homeReducer","action","type","value","Layout","title","page","description","children","className","Fragment","ProductImage","isPreview","image","src","effect","ProductCard","product","inCart","setUpdate","f","update","undefined","showcase","quantity","setQuantity","addProductToCart","cart","push","maxQuantity","Array","Set","find","addProduct","removeProductFromCart","filter","removeProduct","handleChange","productId","event","target","parseInt","updateProductQuantity","renderBasicProductInfo","price","length","slice","onChange","variant","color","renderInCartOptions","Search","categories","category","searchString","searched","products","setData","useEffect","submit","preventDefault","searchCriteria","search","query","queryString","searchForProducts","key","onSubmit","categoryOption","placeholder","Home","useReducer","dispatch","init","getProductsBySales","getProductsByDate","loginInitialState","Email","Password","Error","RenderError","Loading","Success","loginReducer","field","Redirect","FormField","label","changeHandler","required","toLowerCase","indexOf","TextField","UIMessage","message","ErrorOutline","Login","timeout","attemptLogin","log","post","error","e","a","clearTimeout","setTimeout","currentTarget","signupInitialState","Name","Admin","signupReducer","Signup","confirmPassword","attemptSignup","email","password","response","FormControlLabel","control","Checkbox","icon","BuildOutlined","checkedIcon","href","Checkout","success","paymentToken","instance","address","token","userId","config","headers","Authorization","getPaymentToken","clientToken","handleAddress","confirmPurchase","requestPaymentMethod","confirmationData","paymentData","paymentMethodNonce","nonce","amount","totalCostOfCart","processPayment","orderData","transaction_id","transaction","clientData","saveOrderData","reduce","sum","onBlur","options","authorization","paypal","flow","onInstance","Cart","cartProducts","setCartProducts","Details","createdAt","AdminLinks","UserAccount","history","UpdateAccount","userProfile","setUserProfile","UPDATE_USER_ACCOUNT_ROUTE","handleInfoChange","formFieldOptions","formValue","Object","keys","checked","shopInitialState","listLength","availableCategories","activeCategories","priceRange","skip","shopReducer","filteredCategories","activeCategory","CategorySelector","availableCategory","PriceRangeSelector","activePriceRange","setActivePriceRange","Shop","filterProductsBySelection","filters","activeCategoryIndex","priceRangeId","selectedPriceRange","loadMore","renderLoadMoreButton","Product","setProduct","relatedProducts","setRelatedProducts","useParams","scrollTo","shipping","renderProductDetails","ProductManagement","setProducts","sortBy","setSortBy","setOrder","sortValue","sortOrder","sales","renderProduct","productEditorInitialState","img","renderError","loading","productEditorReducer","getDataForProductUpdate","getCats","getProd","all","convertProductToFormData","formData","FormData","forEach","productKey","append","createNewProduct","userData","ADD_PRODUCT_ROUTE","updateProduct","UPDATE_PRODUCT_ROUTE","ProductEditor","mode","renderFieldsForUpdating","forUpdate","renderSelectors","URL","createObjectURL","for","accept","files","CategoryManagement","setCategories","names","setNames","categoryNames","renderCategory","categoryId","UPDATE_CATEGORY_ROUTE","nModified","reload","updateCategory","delete","addCategoryInitialState","addCategoryReducer","AddCategory","AllOrders","orders","setOrders","shippingStatusOptions","setShippingStatusOptions","currentShippingStatusValues","setCurrentShippingStatusValues","currentShippingValues","status","renderProductsInTransaction","renderClientInfo","renderOrderInfo","handleShippingStatusChange","statusOption","orderId","newStatus","Orders","GET_USER_ORDERS_ROUTE","renderProducts","updatedAt","renderOrder","Routes","path","exact","PRODUCT_URL","UserAcccount","UserOrders","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.0c70aa8c.chunk.js","sourcesContent":["//////// Price Settings\r\n\r\nexport const priceRanges = [\r\n  { _id: 0, name: \"All\", range: [0, 1000000] },\r\n  { _id: 1, name: \"$0  to $9\", range: [0, 9] },\r\n  { _id: 2, name: \"$10 to $19\", range: [10, 19] },\r\n  { _id: 3, name: \"$20 to $29\", range: [20, 29] },\r\n  { _id: 4, name: \"$30 to $39\", range: [30, 39] },\r\n  { _id: 5, name: \"$40+\", range: [40, 1000000] },\r\n];\r\n\r\n//////// Navigation and Routes\r\n\r\n//// Open routes\r\nexport const SHOP_URL = \"/shop\";\r\nexport const PRODUCT_URL = \"/product\";\r\n\r\n// Auth\r\nexport const SIGNUP_URL = \"/signup\";\r\nexport const LOGIN_URL = \"/login\";\r\n\r\n//// Client routes\r\nexport const CLIENT_CART_URL = \"/Client/cart\";\r\nexport const CLIENT_ACCOUNT_URL = \"/Client/account\";\r\nexport const CLIENT_ACCOUNT_UPDATE_URL = \"/Client/account/update\";\r\nexport const CLIENT_ORDER_HISTORY_URL = \"/Client/account/orders\";\r\n\r\n////  Admin\r\n\r\n// Account\r\nexport const ADMIN_ACCOUNT_URL = \"/Administrator/account\";\r\nexport const ADMIN_ACCOUNT_UPDATE_URL = \"/Administrator/account/update\";\r\n\r\n// Product Management\r\nexport const ADMIN_PRODUCT_MANAGEMENT_URL = \"/Administrator/products\";\r\nexport const ADMIN_ADD_PRODUCT_URL = \"/Administrator/products/add\";\r\nexport const ADMIN_VIEW_PRODUCTS_URL = \"/Administrator/products/all\";\r\nexport const ADMIN_UPDATE_PRODUCT_URL = \"/Administrator/products/update\";\r\n\r\n// Product Category Management\r\nexport const ADMIN_CATEGORY_MANAGEMENT_URL = \"/Administrator/categories\";\r\nexport const ADMIN_ADD_CATEGORY_URL = \"/Administrator/categories/add\";\r\nexport const ADMIN_UPDATE_CATEGORY_URL = \"/Administrator/categories/update\";\r\n\r\n// Orders\r\nexport const ADMIN_VIEW_ORDERS_URL = \"/Administrator/orders\";\r\n\r\n//// Server routes\r\nexport const API_URL = process.env.REACT_APP_API_ROOT_URL;\r\n\r\n// Auth\r\nexport const USER_SIGNUP_ROUTE = API_URL + \"/auth/signup\";\r\nexport const USER_LOGIN_ROUTE = API_URL + \"/auth/login\";\r\nexport const USER_LOGOUT_ROUTE = API_URL + \"/auth/logout\";\r\n\r\n// Users\r\nexport const GET_USER_INFO_ROUTE = API_URL + \"/user\";\r\nexport const UPDATE_USER_ACCOUNT_ROUTE = API_URL + \"/user/update\";\r\nexport const GET_USER_ORDERS_ROUTE = API_URL + \"/orders/history\";\r\n\r\n// Product Categories\r\nexport const GET_CATEGORIES_ROUTE = API_URL + \"/categories\";\r\nexport const ADD_CATEGORY_ROUTE = API_URL + \"/categories/new\";\r\nexport const UPDATE_CATEGORY_ROUTE = API_URL + \"/categories/update\";\r\n\r\n// Products\r\nexport const GET_PRODUCTS_ROUTE = API_URL + \"/products\";\r\nexport const RELATED_PRODUCTS_ROUTE = API_URL + \"/products/related\";\r\n\r\nexport const SEARCH_PRODUCTS_ROUTE = API_URL + \"/products/search\";\r\nexport const FILTER_PRODUCTS_ROUTE = API_URL + \"/products/filter\";\r\n\r\nexport const ADD_PRODUCT_ROUTE = API_URL + \"/products/new\";\r\nexport const UPDATE_PRODUCT_ROUTE = API_URL + \"/products/update\";\r\n\r\n// Purchasing\r\n\r\nexport const GET_PURCHASE_TOKEN_ROUTE = API_URL + \"/checkout/paymenttoken\";\r\nexport const PROCESS_PURCHASE_ROUTE = API_URL + \"/checkout\";\r\nexport const SAVE_ORDER_DATA_ROUTE = API_URL + \"/orders/create\";\r\nexport const GET_ORDERS_ROUTE = API_URL + \"/orders\";\r\nexport const GET_SHIPPING_STATUS_VALUES_ROUTE =\r\n  API_URL + \"/orders/shipmentvalues\";\r\nexport const UPDATE_SHIPPING_STATUS_ROUTE = API_URL + \"/orders/updatestatus\";\r\n","import axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport { USER_LOGOUT_ROUTE } from \"../config\";\r\n\r\nexport const authenticateUser = (data, next = {}) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n    next();\r\n  }\r\n};\r\nexport const updateUserJWT = (data) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n  }\r\n};\r\n\r\nexport const isAuth = () => {\r\n  if (typeof window !== \"undefined\" && localStorage.getItem(\"jwt\")) {\r\n    const userData = JSON.parse(localStorage.getItem(\"jwt\"));\r\n    return userData;\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const isAdmin = () => {\r\n  if (typeof window !== \"undefined\" && localStorage.getItem(\"jwt\")) {\r\n    const userData = JSON.parse(localStorage.getItem(\"jwt\"));\r\n    if (userData.user.role) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const redirectAdmin = (user) => {\r\n  if (user.role) {\r\n    return <Redirect to=\"/admin/account\" />;\r\n  }\r\n};\r\n\r\nexport const logOut = () => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"jwt\");\r\n    axios\r\n      .get(USER_LOGOUT_ROUTE)\r\n      .then((res) => {\r\n        //\r\n      })\r\n      .catch((err) => {\r\n        //\r\n      });\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nimport { isAuth } from \"./auth\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isAuth() ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{ pathname: \"/signup\", state: { from: props.location } }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nimport { isAdmin } from \"./auth\";\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isAdmin() ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect to={{ pathname: \"/\", state: { from: props.location } }} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nexport default AdminRoute;\r\n","export const addProduct = (product) => {\r\n  let cart = [];\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    cart.push({\r\n      ...product,\r\n      quantity: 1,\r\n      maxQuantity: product.quantity,\r\n    });\r\n\r\n    cart = Array.from(new Set(cart.map((product) => product._id))).map(\r\n      (_id) => {\r\n        return cart.find((product) => product._id === _id);\r\n      }\r\n    );\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }\r\n};\r\n\r\nexport const removeProduct = (_id) => {\r\n  let cart = [];\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    cart = cart.filter((product) => product._id !== _id);\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }\r\n};\r\n\r\nexport const updateProductQuantity = (_id, quantity) => {\r\n  let cart = [];\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    cart.map((product, i) => {\r\n      if (product._id === _id) {\r\n        cart[i].quantity = parseInt(quantity);\r\n      }\r\n    });\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }\r\n};\r\n\r\nexport const getProductsFromCart = () => {\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      return JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n  }\r\n  return [];\r\n};\r\n\r\nexport const countProductsInCart = () => {\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      return JSON.parse(localStorage.getItem(\"cart\")).length;\r\n    }\r\n  }\r\n  return 0;\r\n};\r\n\r\nexport const emptyCart = (next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"cart\");\r\n    next();\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { isAuth, isAdmin, logOut } from \"../../auth\";\r\n\r\nimport {\r\n  SIGNUP_URL,\r\n  LOGIN_URL,\r\n  CLIENT_CART_URL,\r\n  CLIENT_ACCOUNT_URL,\r\n  ADMIN_ACCOUNT_URL,\r\n  ADMIN_VIEW_ORDERS_URL,\r\n  CLIENT_ORDER_HISTORY_URL,\r\n} from \"../../config\";\r\n\r\nimport { countProductsInCart } from \"../../views/Cart/utils\";\r\n\r\nimport {\r\n  Button,\r\n  SwipeableDrawer,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n} from \"@material-ui/core\";\r\n\r\nimport {\r\n  MenuRounded,\r\n  Home,\r\n  PersonAdd,\r\n  ExitToApp,\r\n  MeetingRoom,\r\n  AccountCircle,\r\n  ShoppingBasket,\r\n  ViewCarousel,\r\n  Build,\r\n  LocalShipping,\r\n} from \"@material-ui/icons\";\r\n\r\nimport \"./Nav.scss\";\r\n\r\nconst Nav = React.memo(() => {\r\n  const [openNav, setOpenNav] = React.useState(false);\r\n\r\n  let links;\r\n\r\n  isAuth()\r\n    ? isAdmin()\r\n      ? (links = [\r\n          [<Home />, \"/\", \"Home\"],\r\n          [<Build />, ADMIN_ACCOUNT_URL, \"My account (Admin)\"],\r\n          [<LocalShipping />, ADMIN_VIEW_ORDERS_URL, \"All orders\"],\r\n          [<LocalShipping />, CLIENT_ORDER_HISTORY_URL, \"My orders\"],\r\n          [<MeetingRoom />, \"/\", \"Log out\"],\r\n        ])\r\n      : (links = [\r\n          [<Home />, \"/\", \"Home\"],\r\n          [<AccountCircle />, CLIENT_ACCOUNT_URL, \"My account\"],\r\n          [<MeetingRoom />, \"/\", \"Log out\"],\r\n        ])\r\n    : (links = [\r\n        [<Home />, \"/\", \"Home\"],\r\n        [<PersonAdd />, SIGNUP_URL, \"Sign up\"],\r\n        [<ExitToApp />, LOGIN_URL, \"Log in\"],\r\n      ]);\r\n\r\n  const renderList = () =>\r\n    links.map((linkData, i) => {\r\n      return linkData[2] !== \"Log out\" ? (\r\n        <ListItem\r\n          key={i}\r\n          onClick={() => {\r\n            setOpenNav(!openNav);\r\n          }}\r\n        >\r\n          <Link to={linkData[1]}>\r\n            <ListItemIcon>{linkData[0]}</ListItemIcon>\r\n            {linkData[2]}\r\n          </Link>\r\n        </ListItem>\r\n      ) : (\r\n        <ListItem\r\n          key={i}\r\n          onClick={() => {\r\n            setOpenNav(!openNav);\r\n            logOut();\r\n          }}\r\n        >\r\n          <Link to={linkData[1]}>\r\n            <ListItemIcon>{linkData[0]}</ListItemIcon>\r\n            {linkData[2]}\r\n          </Link>\r\n        </ListItem>\r\n      );\r\n    });\r\n\r\n  return (\r\n    <nav id=\"Nav\">\r\n      <Link to=\"/shop\">Products</Link>\r\n\r\n      <Link to={CLIENT_CART_URL}>\r\n        <p>My cart</p>\r\n      </Link>\r\n      <Button\r\n        onClick={() => {\r\n          setOpenNav(!openNav);\r\n        }}\r\n      >\r\n        <MenuRounded />\r\n      </Button>\r\n      <SwipeableDrawer\r\n        anchor={\"right\"}\r\n        open={openNav}\r\n        onOpen={() => setOpenNav(true)}\r\n        onClose={() => setOpenNav(false)}\r\n      >\r\n        <List id=\"Nav__list\">{renderList()}</List>\r\n      </SwipeableDrawer>\r\n    </nav>\r\n  );\r\n});\r\n\r\nexport default Nav;\r\n","export const homeInitialState = {\r\n  productsBySales: [],\r\n  productsByDate: [],\r\n  sort: \"_id\",\r\n  order: \"asc\",\r\n  limit: 3,\r\n};\r\n\r\nexport function homeReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"productsBySales\":\r\n      return { ...state, productsBySales: action.value };\r\n    case \"productsByDate\":\r\n      return { ...state, productsByDate: action.value };\r\n    case \"sort\":\r\n      return { ...state, sort: action.value };\r\n    case \"order\":\r\n      return { ...state, order: action.value };\r\n    case \"limit\":\r\n      return { ...state, limit: action.value };\r\n    default:\r\n      break;\r\n  }\r\n  return state;\r\n}\r\n","import React from \"react\";\r\n\r\nimport Nav from \"../../components/Nav\";\r\n\r\nimport \"./Layout.scss\";\r\n\r\nconst Layout = ({\r\n  title = \"View\",\r\n  page = \"This page doesn't have an id selector!\",\r\n  description = \"A page of this website\",\r\n  children,\r\n}) => {\r\n  return (\r\n    <div id={page} className=\"page\">\r\n      <div id={page + \"__banner\"} className=\"banner\">\r\n        <h1>{title}</h1>\r\n        <h2>{description}</h2>\r\n      </div>\r\n      <React.Fragment>{children}</React.Fragment>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import React, { useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\r\nimport \"react-lazy-load-image-component/src/effects/blur.css\";\r\n\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nimport { GET_PRODUCTS_ROUTE } from \"../../config\";\r\nimport {\r\n  addProduct,\r\n  removeProduct,\r\n  updateProductQuantity,\r\n} from \"../../views/Cart/utils\";\r\n\r\nimport \"./Product.scss\";\r\n\r\nexport const ProductImage = ({ _id, isPreview, image }) => {\r\n  return isPreview ? (\r\n    <img\r\n      src={image}\r\n      className=\"productCard__image\"\r\n      id=\"ProductEditor__wrapper__imgPreview\"\r\n    ></img>\r\n  ) : (\r\n    <div className=\"img-wrapper\">\r\n      <LazyLoadImage\r\n        className=\"productCard__image\"\r\n        src={\r\n          GET_PRODUCTS_ROUTE + `/${_id}/img` ||\r\n          \"https://www.och-lco.ca/wp-content/uploads/2015/07/unavailable-image.jpg\"\r\n        }\r\n        effect=\"blur\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const ProductCard = ({\r\n  product,\r\n  inCart,\r\n  setUpdate = (f) => f,\r\n  update = undefined,\r\n  showcase,\r\n}) => {\r\n  const [quantity, setQuantity] = useState(product.quantity);\r\n  const addProductToCart = () => {\r\n    addProduct(product);\r\n  };\r\n\r\n  const removeProductFromCart = (_id) => {\r\n    removeProduct(_id);\r\n  };\r\n\r\n  const handleChange = (productId, maxQuantity) => (event) => {\r\n    setUpdate(!update);\r\n\r\n    const setAcceptableQuantity = (value) => {\r\n      if (value < 1) {\r\n        value = 1;\r\n      } else if (value >= maxQuantity) {\r\n        value = maxQuantity;\r\n      }\r\n\r\n      setQuantity(value);\r\n      updateProductQuantity(productId, value);\r\n    };\r\n\r\n    setAcceptableQuantity(event.target.value);\r\n  };\r\n\r\n  const renderBasicProductInfo = ({ name, price, description, _id }) => {\r\n    if (description.length > 75) {\r\n      description = description.slice(0, 75) + \"...\";\r\n    }\r\n    return (\r\n      <div className=\"product-details\">\r\n        <ProductImage _id={_id} name={name} />\r\n        <div className=\"productCard__info\">\r\n          <h3>{name}</h3>\r\n          <p>{description}</p>\r\n          <p>${price}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderInCartOptions = ({ _id, maxQuantity }) => {\r\n    return (\r\n      <div className=\"product-cartOptions\">\r\n        <p className=\"units-available\"> {maxQuantity} available</p>\r\n        <input\r\n          className=\"quantity-adjuster\"\r\n          type=\"number\"\r\n          value={quantity}\r\n          onChange={handleChange(_id, maxQuantity)}\r\n        />\r\n        <Button\r\n          onClick={() => {\r\n            removeProductFromCart(_id);\r\n            setUpdate(!update);\r\n          }}\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n        >\r\n          Remove\r\n        </Button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderInShopOptions = (_id) => {\r\n    return (\r\n      <div className=\"productCard__buttons\">\r\n        <Link to={`/product/${_id}`}>View</Link>\r\n        <button onClick={addProductToCart}>Add to cart</button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return inCart ? (\r\n    <div className=\"productCard cart\">\r\n      {renderBasicProductInfo(product)}\r\n      {renderInCartOptions(product)}\r\n    </div>\r\n  ) : (\r\n    <div className=\"productCard\" id={showcase && \"showcase\"}>\r\n      {renderBasicProductInfo(product)}\r\n      {renderInShopOptions(product._id)}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport queryString from \"query-string\";\r\n\r\nimport { GET_CATEGORIES_ROUTE, SEARCH_PRODUCTS_ROUTE } from \"../../config\";\r\n\r\nimport { ProductCard } from \"../../components/Product\";\r\n\r\nimport { Search as SearchIcon } from \"@material-ui/icons\";\r\n\r\nimport \"./Search.scss\";\r\n\r\nconst Search = () => {\r\n  const [data, setData] = useState({\r\n    categories: [],\r\n    category: \"\",\r\n    searchString: \"\",\r\n    searched: false,\r\n    products: [],\r\n  });\r\n\r\n  const init = () => {\r\n    axios.get(GET_CATEGORIES_ROUTE).then((res) => {\r\n      setData({ ...data, categories: res.data });\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n\r\n  const { categories, category, searchString, searched, products } = data;\r\n\r\n  const searchForProducts = () => {\r\n    const searchCriteria = {\r\n      search: searchString || \" \",\r\n      category: category || \"All\",\r\n    };\r\n\r\n    const query = queryString.stringify(searchCriteria);\r\n\r\n    axios.get(SEARCH_PRODUCTS_ROUTE + `?${query}`, {}).then((res) => {\r\n      setData({ ...data, products: res.data, searched: true });\r\n    });\r\n  };\r\n\r\n  const submit = (event) => {\r\n    event.preventDefault();\r\n    searchForProducts();\r\n  };\r\n\r\n  const handleChange = (key) => (event) => {\r\n    setData({ ...data, searched: false, [key]: event.target.value });\r\n  };\r\n\r\n  const renderSearchForm = () => {\r\n    return (\r\n      <form onSubmit={submit}>\r\n        <select onChange={handleChange(\"category\")}>\r\n          <option value=\"All\">Categories</option>\r\n          {categories.map((categoryOption, i) => {\r\n            return (\r\n              <option value={categoryOption._id} key={i}>\r\n                {categoryOption.name}\r\n              </option>\r\n            );\r\n          })}\r\n        </select>\r\n        <input\r\n          type=\"search\"\r\n          onChange={handleChange(\"searchString\")}\r\n          placeholder=\"Search our models\"\r\n        />\r\n        <button>\r\n          <SearchIcon />\r\n        </button>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  const renderProducts = () => {\r\n    return products.length ? (\r\n      <div className={products.length ? \"display\" : \"\"}>\r\n        <h3>Here's what we found</h3>\r\n        {products.map((product, i) => {\r\n          return <ProductCard product={product} key={i} />;\r\n        })}\r\n      </div>\r\n    ) : searched ? (\r\n      <h3>Sorry! No results for \"{searchString}\"</h3>\r\n    ) : null;\r\n  };\r\n\r\n  return (\r\n    <section id=\"Search\">\r\n      <h2>Looking for something in particular?</h2>\r\n      {renderSearchForm()}\r\n      {renderProducts()}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React, { useReducer, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { homeReducer, homeInitialState } from \"../../store/Home\";\r\n\r\nimport { GET_PRODUCTS_ROUTE } from \"../../config\";\r\n\r\nimport Layout from \"../../hoc/Layout\";\r\nimport Search from \"../../components/Search\";\r\nimport { ProductCard } from \"../../components/Product\";\r\n\r\nimport \"./Home.scss\";\r\n\r\nconst Home = () => {\r\n  const [state, dispatch] = useReducer(homeReducer, homeInitialState);\r\n  const { productsBySales, productsByDate, sort, order, limit } = state;\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n\r\n  const init = () => {\r\n    getProductsBySales();\r\n    getProductsByDate();\r\n  };\r\n\r\n  const getProductsBySales = () => {\r\n    axios\r\n      .get(GET_PRODUCTS_ROUTE + `?sortBy=sales&order=desc&limit=3`)\r\n      .then((res) => {\r\n        dispatch({ type: \"productsBySales\", value: res.data });\r\n      });\r\n  };\r\n  const getProductsByDate = () => {\r\n    axios\r\n      .get(GET_PRODUCTS_ROUTE + `?sortBy=_id&order=desc&limit=3`)\r\n      .then((res) => {\r\n        dispatch({ type: \"productsByDate\", value: res.data });\r\n      });\r\n  };\r\n\r\n  const renderPopularProducts = () => {\r\n    return (\r\n      <section id=\"popular_products\" className=\"display\">\r\n        <h3 className=\"display__heading\">Most popular</h3>\r\n        <>\r\n          <div className=\"stripe\" />\r\n          {productsBySales.map((product, i) => {\r\n            return <ProductCard product={product} key={i} />;\r\n          })}\r\n        </>\r\n      </section>\r\n    );\r\n  };\r\n\r\n  const renderNewestProducts = () => {\r\n    return (\r\n      <section id=\"newest_products\" className=\"display\">\r\n        <h3 className=\"display__heading\">New Releases</h3>\r\n        <>\r\n          <div className=\"stripe\" />\r\n          {productsByDate.map((product, i) => {\r\n            return <ProductCard product={product} key={i} />;\r\n          })}\r\n        </>\r\n      </section>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title=\"TelePhono\"\r\n      page=\"Home\"\r\n      description=\"Reach out, get connected\"\r\n    >\r\n      <div id=\"oval\"></div>\r\n      {productsByDate[0] && (\r\n        <ProductCard product={productsByDate[0]} showcase={true} />\r\n      )}\r\n\r\n      <Search />\r\n\r\n      {renderNewestProducts()}\r\n\r\n      {renderPopularProducts()}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","export const loginInitialState = {\r\n  Email: \"\",\r\n  Password: \"\",\r\n  Error: \"\",\r\n  RenderError: false,\r\n  Loading: false,\r\n  Success: false,\r\n};\r\n\r\nexport function loginReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"fieldChange\":\r\n      return { ...state, [action.field]: action.value };\r\n    case \"error\":\r\n      return { ...state, RenderError: true, Error: action.value };\r\n    case \"clearError\":\r\n      return { ...state, RenderError: false, Error: \"\" };\r\n    case \"loading\":\r\n      return { ...state, Loading: true };\r\n    case \"loadComplete\":\r\n      return { ...state, Loading: false };\r\n    case \"success\":\r\n      return { ...state, Success: true };\r\n    case \"redirect\":\r\n      return { ...state, Redirect: true };\r\n    default:\r\n      break;\r\n  }\r\n  return state;\r\n}\r\n","import React from \"react\";\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst FormField = ({\r\n  label,\r\n  value,\r\n  changeHandler,\r\n  required = false,\r\n  placeholder = \"\",\r\n}) => {\r\n  let type;\r\n  if (label.toLowerCase().indexOf(\"password\") !== -1) {\r\n    type = \"password\";\r\n  } else if (label === \"email\") {\r\n    type = \"email\";\r\n  } else if (label === \"price\" || label === \"quantity\") {\r\n    type = \"number\";\r\n  } else {\r\n    type = \"text\";\r\n  }\r\n\r\n  placeholder = \"\" + placeholder;\r\n  return (\r\n    <TextField\r\n      type={type}\r\n      label={label}\r\n      value={value}\r\n      required={required}\r\n      onChange={changeHandler}\r\n      placeholder={placeholder}\r\n    />\r\n  );\r\n};\r\n\r\nexport default FormField;\r\n","import React from \"react\";\r\n\r\nimport { ErrorOutline } from \"@material-ui/icons\";\r\n\r\nimport \"./UIMessage.scss\";\r\n\r\nconst UIMessage = ({ message, type }) => {\r\n  return (\r\n    <label className={`UIMessage ${type}`}>\r\n      {type === \"error\" ? <ErrorOutline /> : null}\r\n      <p>{message}</p>{\" \"}\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default UIMessage;\r\n","import React, { useReducer } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport { USER_LOGIN_ROUTE } from \"../../config\";\r\nimport { authenticateUser } from \"../../auth\";\r\nimport { loginReducer, loginInitialState } from \"../../store/Login\";\r\n\r\nimport Layout from \"../../hoc/Layout\";\r\nimport FormField from \"../../components/FormField\";\r\nimport UIMessage from \"../../components/UIMessage\";\r\n\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nimport \"./Login.scss\";\r\n\r\nconst Login = () => {\r\n  const [state, dispatch] = useReducer(loginReducer, loginInitialState);\r\n  const { Email, Password, Error, RenderError, Loading, Success } = state;\r\n\r\n  if (Success) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n\r\n  const attemptLogin = (Email, Password) => {\r\n    const log = { Email, Password };\r\n    axios\r\n      .post(`${USER_LOGIN_ROUTE}`, log)\r\n      .then((res) => {\r\n        authenticateUser(res.data, () => {\r\n          dispatch({ type: \"success\" });\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        dispatch({ type: \"error\", value: error });\r\n      });\r\n  };\r\n\r\n  let timeout;\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    dispatch({ type: \"clearError\" });\r\n    dispatch({ type: \"loading\" });\r\n    if (timeout) {\r\n      clearTimeout(timeout);\r\n    }\r\n    await attemptLogin(Email, Password);\r\n    dispatch({ type: \"loadComplete\" });\r\n    timeout = setTimeout(() => {\r\n      dispatch({ type: \"clearError\" });\r\n    }, 2000);\r\n  };\r\n\r\n  const renderForm = () => {\r\n    return (\r\n      <form id=\"Login__wrapper__form\">\r\n        {[\r\n          [\"Email\", Email, true],\r\n          [\"Password\", Password, true],\r\n        ].map((field, i) => {\r\n          return (\r\n            <FormField\r\n              label={field[0]}\r\n              value={field[1]}\r\n              required={field[2]}\r\n              changeHandler={(e) =>\r\n                dispatch({\r\n                  type: \"fieldChange\",\r\n                  field: field[0],\r\n                  value: e.currentTarget.value,\r\n                })\r\n              }\r\n              key={i}\r\n            />\r\n          );\r\n        })}\r\n        <Button variant=\"contained\" color=\"primary\" onClick={submit}>\r\n          Log in\r\n        </Button>\r\n        {Loading ? <p>FICK</p> : null}\r\n        {RenderError ? <UIMessage message={Error} type=\"error\" /> : null}\r\n        {Success ? <UIMessage message={Success} type=\"success\" /> : null}\r\n      </form>\r\n    );\r\n  };\r\n  return (\r\n    <Layout title=\"Log in\" description=\"Welcome back!\" page=\"Login\">\r\n      <div id=\"Login__wrapper\">\r\n        {renderForm()}\r\n        <p id=\"Login__wrapper__onboard\">\r\n          Lorem ipsum dolor, sit amet consectetur adipisicing elit. Nemo ex quod\r\n          ipsam ut enim et reiciendis molestias voluptates, sunt molestiae,\r\n          atque porro assumenda repellat delectus deleniti, a laudantium.\r\n          Beatae, nihil?\r\n        </p>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","export const signupInitialState = {\r\n  Name: \"\",\r\n  Email: \"\",\r\n  Password: \"\",\r\n  \"Confirm password\": \"\",\r\n  Admin: false,\r\n  Error: \"\",\r\n  RenderError: false,\r\n  Loading: false,\r\n  Success: false,\r\n};\r\n\r\nexport function signupReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"fieldChange\":\r\n      return { ...state, [action.field]: action.value };\r\n    case \"admin\":\r\n      return { ...state, Admin: !state.Admin };\r\n    case \"error\":\r\n      return { ...state, RenderError: true, Error: action.value };\r\n    case \"clearError\":\r\n      return { ...state, RenderError: false, Error: \"\" };\r\n    case \"loading\":\r\n      return { ...state, Loading: true };\r\n    case \"loadComplete\":\r\n      return { ...state, Loading: false };\r\n    case \"success\":\r\n      return { ...state, Success: true };\r\n    case \"redirect\":\r\n      return { ...state, Redirect: true };\r\n    default:\r\n      break;\r\n  }\r\n  return state;\r\n}\r\n","import React, { useReducer } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport { USER_SIGNUP_ROUTE } from \"../../config\";\r\nimport { authenticateUser } from \"../../auth\";\r\nimport { signupReducer, signupInitialState } from \"../../store/Signup\";\r\n\r\nimport Layout from \"../../hoc/Layout\";\r\nimport FormField from \"../../components/FormField\";\r\nimport UIMessage from \"../../components/UIMessage\";\r\n\r\nimport { Button, FormControlLabel, Checkbox } from \"@material-ui/core\";\r\nimport { Build, BuildOutlined } from \"@material-ui/icons\";\r\n\r\nimport \"./Signup.scss\";\r\n\r\nconst Signup = () => {\r\n  const [state, dispatch] = useReducer(signupReducer, signupInitialState);\r\n\r\n  const {\r\n    Name,\r\n    Email,\r\n    Password,\r\n    [\"Confirm password\"]: confirmPassword,\r\n    Admin,\r\n    Error,\r\n    RenderError,\r\n    Loading,\r\n    Success,\r\n  } = state;\r\n\r\n  if (Success) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n\r\n  const attemptSignup = (name, email, password, role) => {\r\n    axios\r\n      .post(`${USER_SIGNUP_ROUTE}`, { name, password, email, role })\r\n      .then(({ data }) => {\r\n        authenticateUser(data, () => {\r\n          dispatch({ type: \"success\" });\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        dispatch({ type: \"error\", value: error.response.data.error });\r\n      });\r\n  };\r\n\r\n  let timeout;\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    dispatch({ type: \"clearError\" });\r\n\r\n    if (timeout) {\r\n      clearTimeout(timeout);\r\n    }\r\n    if (Password !== confirmPassword) {\r\n      // throw error\r\n      return dispatch({\r\n        type: \"error\",\r\n        value:\r\n          \"Password confirmation unsuccessful - both entries need to be the same!\",\r\n      });\r\n    }\r\n    dispatch({ type: \"loading\" });\r\n    let role = +Admin;\r\n    await attemptSignup(Name, Email, Password, role);\r\n    dispatch({ type: \"loadComplete\" });\r\n    timeout = setTimeout(() => {\r\n      dispatch({ type: \"clearError\" });\r\n    }, 2000);\r\n  };\r\n\r\n  const renderForm = () => {\r\n    return (\r\n      <form id=\"Signup__wrapper__form\">\r\n        {[\r\n          [\"Name\", Name, true],\r\n          [\"Email\", Email, true],\r\n          [\"Password\", Password, true],\r\n          [\"Confirm password\", confirmPassword, true],\r\n        ].map((field, i) => {\r\n          return (\r\n            <FormField\r\n              label={field[0]}\r\n              value={field[1]}\r\n              required={field[2]}\r\n              changeHandler={(e) =>\r\n                dispatch({\r\n                  type: \"fieldChange\",\r\n                  field: field[0],\r\n                  value: e.currentTarget.value,\r\n                })\r\n              }\r\n              key={i}\r\n            />\r\n          );\r\n        })}\r\n        <FormControlLabel\r\n          control={\r\n            <Checkbox\r\n              icon={<BuildOutlined />}\r\n              checkedIcon={<Build />}\r\n              onChange={(e) => {\r\n                e.preventDefault();\r\n                dispatch({ type: \"admin\" });\r\n              }}\r\n            />\r\n          }\r\n          label=\"Administrative control?\"\r\n        />\r\n        <Button variant=\"contained\" color=\"primary\" onClick={submit}>\r\n          Sign up\r\n        </Button>\r\n\r\n        {Loading ? <p>FICK</p> : null}\r\n        {RenderError ? <UIMessage message={Error} type=\"error\" /> : null}\r\n        {Success ? <UIMessage message={Success} type=\"success\" /> : null}\r\n      </form>\r\n    );\r\n  };\r\n  return (\r\n    <Layout\r\n      title=\"Sign up\"\r\n      description=\"Shop with ease and security\"\r\n      page=\"Signup\"\r\n    >\r\n      <div id=\"Signup__wrapper\">\r\n        {renderForm()}\r\n        <p id=\"Signup__wrapper__onboard\">\r\n          For the purposes of this project, passwords are encrypted using\r\n          <a href=\"https://en.wikipedia.org/wiki/Bcrypt\"> bcrypt</a>, and email\r\n          adresses are retained to send order confirmations.\r\n          <br /> <br /> By clicking on that wrench, you'll have access to review\r\n          orders, be able to update shipping statuses, and add products and\r\n          categories. <br /> <br />\r\n          Enjoy, and let me know your thoughts!\r\n        </p>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"braintree-web\";\r\nimport BrainTreeDropIn from \"braintree-web-drop-in-react\";\r\n\r\nimport UIMessage from \"../UIMessage\";\r\n\r\nimport { isAuth } from \"../../auth\";\r\nimport { getPaymentToken, processPayment, saveOrderData } from \"./utils\";\r\n\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nimport \"./Checkout.scss\";\r\n\r\nconst Checkout = ({ products, emptyCart }) => {\r\n  const [data, setData] = useState({\r\n    success: false,\r\n    paymentToken: null,\r\n    error: \"\",\r\n    instance: {},\r\n    address: \"\",\r\n  });\r\n\r\n  const { user, token } = isAuth();\r\n\r\n  const init = () => {\r\n    getPaymentToken(user._id, token).then((res) => {\r\n      if (res.error) {\r\n        setData({ ...data, error: res.error });\r\n      } else {\r\n        setData({ ...data, paymentToken: res.clientToken });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n\r\n  const handleAddress = (event) => {\r\n    setData({ ...data, address: event.target.value });\r\n  };\r\n\r\n  const confirmPurchase = () => {\r\n    let nonce;\r\n    let getNonce = data.instance\r\n      .requestPaymentMethod()\r\n      .then((confirmationData) => {\r\n        nonce = confirmationData.nonce;\r\n        const paymentData = {\r\n          paymentMethodNonce: nonce,\r\n          amount: totalCostOfCart(),\r\n        };\r\n        processPayment(user._id, token, paymentData)\r\n          .then((res) => {\r\n            const orderData = {\r\n              //\r\n              transaction_id: res.transaction._id,\r\n              amount: res.transaction.amount,\r\n              products: products,\r\n              address: data.address,\r\n              clientData: user,\r\n            };\r\n\r\n            saveOrderData(user._id, token, orderData);\r\n\r\n            setData({ ...data, success: res.success });\r\n            emptyCart(() => {\r\n              // window.location.reload();\r\n            });\r\n          })\r\n          .catch((error) => {});\r\n      })\r\n      .catch((error) => {\r\n        setData({ ...data, error: error.message });\r\n      });\r\n  };\r\n\r\n  const renderDropIn = () => {\r\n    return data.paymentToken && products.length ? (\r\n      <div onBlur={() => setData({ ...data, error: \"\" })} id=\"checkout-dropin\">\r\n        <textarea\r\n          id=\"address\"\r\n          onChange={handleAddress}\r\n          value={data.address}\r\n          placeholder=\"Shipping address\"\r\n        ></textarea>\r\n\r\n        <BrainTreeDropIn\r\n          options={{\r\n            authorization: data.paymentToken,\r\n            paypal: { flow: \"vault\" },\r\n          }}\r\n          onInstance={(instance) => {\r\n            setData({ ...data, instance });\r\n          }}\r\n        />\r\n        <Button variant=\"contained\" color=\"primary\" onClick={confirmPurchase}>\r\n          Check out\r\n        </Button>\r\n      </div>\r\n    ) : null;\r\n  };\r\n\r\n  const enableCheckout = () => {\r\n    return user ? (\r\n      renderDropIn()\r\n    ) : (\r\n      <Link to=\"/signup\">Register to confirm purchase</Link>\r\n    );\r\n  };\r\n\r\n  const totalCostOfCart = () => {\r\n    return products.reduce((sum, product) => {\r\n      return sum + product.quantity * product.price;\r\n    }, 0);\r\n  };\r\n\r\n  const renderError = () => {\r\n    if (data.error) {\r\n      return <UIMessage message={data.error} type=\"error\" />;\r\n    }\r\n    if (data.success) {\r\n      return (\r\n        <UIMessage message={\"Purchase confirmed - thank you!\"} type=\"success\" />\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div id=\"Checkout\">\r\n      <h2 id=\"total-cost\">Total cost: ${totalCostOfCart()}</h2>\r\n      {enableCheckout()}\r\n      {renderError()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n","import {\r\n  GET_PURCHASE_TOKEN_ROUTE,\r\n  PROCESS_PURCHASE_ROUTE,\r\n  SAVE_ORDER_DATA_ROUTE,\r\n} from \"../../config\";\r\nimport axios from \"axios\";\r\n\r\nexport const getPaymentToken = (userId, token) => {\r\n  const config = {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  };\r\n  return axios\r\n    .get(GET_PURCHASE_TOKEN_ROUTE + `/${userId}`, config)\r\n    .then((res) => {\r\n      return res.data;\r\n    });\r\n};\r\n\r\nexport const processPayment = (userId, token, paymentData) => {\r\n  const config = {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  };\r\n  return axios\r\n    .post(PROCESS_PURCHASE_ROUTE + `/${userId}`, paymentData, config)\r\n    .then((res) => {\r\n      return res.data;\r\n    });\r\n};\r\n\r\nexport const saveOrderData = (userId, token, orderData) => {\r\n  const config = {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  };\r\n  return axios\r\n    .post(SAVE_ORDER_DATA_ROUTE + `/${userId}`, orderData, config)\r\n    .then((res) => {\r\n      return res.data;\r\n    });\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport Layout from \"../../hoc/Layout\";\r\nimport { ProductCard } from \"../../components/Product/index\";\r\nimport Checkout from \"../../components/Checkout\";\r\n\r\nimport { getProductsFromCart, emptyCart } from \"./utils\";\r\n\r\nimport \"./Cart.scss\";\r\n\r\nconst Cart = () => {\r\n  const [cartProducts, setCartProducts] = useState([]);\r\n  const [update, setUpdate] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setCartProducts(getProductsFromCart());\r\n  }, [update]);\r\n\r\n  return (\r\n    <Layout title=\"Cart\" description=\"Confirm order details\" page=\"Cart\">\r\n      {cartProducts.length ? (\r\n        <div className=\"content-wrapper\">\r\n          <div id=\"products\">\r\n            {cartProducts.map((product) => (\r\n              <ProductCard\r\n                product={product}\r\n                inCart={true}\r\n                setUpdate={setUpdate}\r\n                update={update}\r\n              />\r\n            ))}\r\n          </div>\r\n          <Checkout products={cartProducts} emptyCart={emptyCart} />\r\n        </div>\r\n      ) : (\r\n        <h2>There are no products currently in your cart</h2>\r\n      )}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nimport {\r\n  CLIENT_ORDER_HISTORY_URL,\r\n  ADMIN_CATEGORY_MANAGEMENT_URL,\r\n  ADMIN_PRODUCT_MANAGEMENT_URL,\r\n} from \"../../config\";\r\n\r\nexport const Details = ({ name, email, _id, createdAt }) => {\r\n  return (\r\n    <section id=\"Account__details\">\r\n      <h3>Account Details</h3>\r\n      <ul>\r\n        <li>Name: {name}</li>\r\n        <li>Email: {email}</li>\r\n        <li>Account ID: {_id}</li>\r\n        <li>Account created at: {createdAt}</li>\r\n        <Link to={CLIENT_ORDER_HISTORY_URL}>View my order history</Link>\r\n      </ul>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport const AdminLinks = () => {\r\n  return (\r\n    <div id=\"admin-links\">\r\n      <h3>Administrative links</h3>\r\n      <Link to={ADMIN_CATEGORY_MANAGEMENT_URL}>Category manager</Link>\r\n      <Link to={ADMIN_PRODUCT_MANAGEMENT_URL}>Product manager </Link>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { isAuth } from \"../../auth\";\r\n\r\nimport {\r\n  CLIENT_ACCOUNT_UPDATE_URL,\r\n  ADMIN_ACCOUNT_UPDATE_URL,\r\n} from \"../../config\";\r\n\r\nimport Layout from \"../../hoc/Layout\";\r\n\r\nimport { Details, AdminLinks } from \"../../components/Account\";\r\n\r\nimport \"./UserAccount.scss\";\r\n\r\nconst UserAccount = () => {\r\n  const {\r\n    user: { role, history, email, name, _id, createdAt },\r\n  } = isAuth();\r\n  let description;\r\n  role ? (description = \"Administrator\") : (description = \"Client\");\r\n\r\n  return (\r\n    <Layout title={name} description={description} page=\"Account\">\r\n      <Details name={name} email={email} _id={_id} createdAt={createdAt} />\r\n      <section id=\"Account__options\">\r\n        <h3>Need to update your information? </h3>\r\n        <Link to={role ? ADMIN_ACCOUNT_UPDATE_URL : CLIENT_ACCOUNT_UPDATE_URL}>\r\n          Update account\r\n        </Link>\r\n        {role ? <AdminLinks /> : null}\r\n      </section>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default UserAccount;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport { isAuth, updateUserJWT } from \"../../auth\";\r\n\r\nimport { UPDATE_USER_ACCOUNT_ROUTE } from \"../../config\";\r\n\r\nimport Layout from \"../../hoc/Layout\";\r\nimport FormField from \"../../components/FormField\";\r\n\r\nimport { FormControlLabel, Checkbox, Button } from \"@material-ui/core\";\r\nimport { Build, BuildOutlined } from \"@material-ui/icons\";\r\n\r\nimport \"./UpdateAccount.scss\";\r\n\r\nconst UpdateAccount = () => {\r\n  const [userProfile, setUserProfile] = useState(isAuth().user);\r\n  const [token, setToken] = useState(isAuth().token);\r\n\r\n  const submit = (e) => {\r\n    e.preventDefault();\r\n    let config = {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    };\r\n\r\n    axios\r\n      .post(\r\n        UPDATE_USER_ACCOUNT_ROUTE + \"/\" + userProfile._id,\r\n        { userProfile },\r\n        config\r\n      )\r\n      .then((res) => {\r\n        updateUserJWT(res.data);\r\n      });\r\n  };\r\n\r\n  const { name, email, password, role, _id } = userProfile;\r\n\r\n  const handleInfoChange = (event, key) => {\r\n    event.preventDefault();\r\n    if (key === \"role\") {\r\n      if (role) {\r\n        return setUserProfile({ ...userProfile, role: 0 });\r\n      }\r\n      return setUserProfile({ ...userProfile, role: 1 });\r\n    }\r\n    setUserProfile({ ...userProfile, [key]: event.target.value });\r\n  };\r\n\r\n  const formFieldOptions = [{ name }, { email }, { password }];\r\n\r\n  const renderFormFieldOptions = () =>\r\n    formFieldOptions.map((formValue, i) => (\r\n      <FormField\r\n        label={Object.keys(formFieldOptions[i])[0]}\r\n        value={userProfile[formValue]}\r\n        changeHandler={(event) =>\r\n          handleInfoChange(event, Object.keys(formFieldOptions[i])[0])\r\n        }\r\n      />\r\n    ));\r\n\r\n  const renderAdminToggle = () => (\r\n    <FormControlLabel\r\n      control={\r\n        <Checkbox\r\n          icon={<BuildOutlined />}\r\n          checkedIcon={<Build />}\r\n          onChange={(event) => {\r\n            event.preventDefault();\r\n            handleInfoChange(event, \"role\");\r\n          }}\r\n          value={role}\r\n          checked={!!role}\r\n        />\r\n      }\r\n      label=\"Administrative? \"\r\n    />\r\n  );\r\n\r\n  const renderUserUpdateForm = () => (\r\n    <form id=\"UpdateAccount__wrapper__form\">\r\n      {renderFormFieldOptions()}\r\n      {renderAdminToggle()}\r\n      <Button\r\n        onClick={(e) => {\r\n          submit(e);\r\n        }}\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n      >\r\n        Submit\r\n      </Button>\r\n    </form>\r\n  );\r\n\r\n  let description;\r\n  role\r\n    ? (description = `${name} (Administrator)`)\r\n    : (description = `${name} (Client)`);\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Update Account Information\"\r\n      description={description}\r\n      page=\"UpdateAccount\"\r\n    >\r\n      <div id=\"UpdateAccount__wrapper\">\r\n        {userProfile && renderUserUpdateForm()}\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default UpdateAccount;\r\n","export const shopInitialState = {\r\n  products: [],\r\n  listLength: 0,\r\n  availableCategories: [],\r\n  activeCategories: [],\r\n  priceRange: [],\r\n  skip: 0,\r\n  limit: 6,\r\n};\r\n\r\nexport function shopReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"setAvailableCategories\":\r\n      return { ...state, availableCategories: action.value };\r\n    case \"addActiveCategory\":\r\n      const categories = state.activeCategories;\r\n      categories.push(action.value);\r\n      return { ...state, activeCategories: categories };\r\n    case \"removeActiveCategory\":\r\n      const filteredCategories = state.activeCategories.filter(\r\n        (activeCategory) => activeCategory !== action.value\r\n      );\r\n      return { ...state, activeCategories: filteredCategories };\r\n    case \"setPriceRange\":\r\n      return { ...state, priceRange: action.value };\r\n    case \"setQuerySkip\":\r\n      return { ...state, skip: action.value };\r\n    case \"setQueryLimit\":\r\n      return { ...state, limit: action.value };\r\n    case \"setProducts\":\r\n      return { ...state, products: action.value };\r\n    case \"loadMoreProducts\":\r\n      return { ...state, products: [...state.products, ...action.value] };\r\n    case \"setListLength\":\r\n      return { ...state, listLength: action.value };\r\n\r\n    default:\r\n      break;\r\n  }\r\n\r\n  return state;\r\n}\r\n","import React from \"react\";\r\n\r\nconst CategorySelector = ({ availableCategories, handleChange }) => {\r\n  return (\r\n    <>\r\n      <ul className=\"categories\">\r\n        <h2>Category </h2>\r\n        {availableCategories.map((availableCategory, i) => {\r\n          return (\r\n            <li className=\"categories__option\" key={i}>\r\n              <label>{availableCategory.name}</label>\r\n              <input\r\n                type=\"checkbox\"\r\n                onChange={() => handleChange(availableCategory._id)}\r\n              />\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CategorySelector;\r\n","import React, { useState } from \"react\";\r\n\r\nconst PriceRangeSelector = ({ priceRanges, handleChange }) => {\r\n  const [activePriceRange, setActivePriceRange] = useState(0);\r\n\r\n  return (\r\n    <>\r\n      <ul className=\"priceRanges\">\r\n        <h2>Price </h2>\r\n        {priceRanges.map((priceRange, i) => {\r\n          return (\r\n            <li className=\"priceRanges__option\" key={i}>\r\n              <label>{priceRange.name}</label>\r\n              <input\r\n                type=\"checkbox\"\r\n                value={`${priceRange._id}`}\r\n                onChange={(event) => {\r\n                  setActivePriceRange(event.target.value);\r\n                  handleChange(event.target.value);\r\n                }}\r\n                checked={priceRange._id == activePriceRange}\r\n              />\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PriceRangeSelector;\r\n","import React, { useReducer, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { shopReducer, shopInitialState } from \"../../store/Shop\";\r\n\r\nimport {\r\n  priceRanges,\r\n  FILTER_PRODUCTS_ROUTE,\r\n  GET_CATEGORIES_ROUTE,\r\n} from \"../../config\";\r\n\r\nimport Layout from \"../../hoc/Layout\";\r\nimport CategorySelector from \"../../components/CategorySelector\";\r\nimport PriceRangeSelector from \"../../components/PriceRangeSelector\";\r\nimport { ProductCard } from \"../../components/Product\";\r\n\r\nimport \"./Shop.scss\";\r\n\r\nconst Shop = () => {\r\n  const [state, dispatch] = useReducer(shopReducer, shopInitialState);\r\n  const {\r\n    availableCategories,\r\n    activeCategories,\r\n    priceRange,\r\n    skip,\r\n    limit,\r\n    products,\r\n    listLength,\r\n  } = state;\r\n\r\n  const init = () => {\r\n    axios.get(GET_CATEGORIES_ROUTE).then((res) => {\r\n      dispatch({ type: \"setAvailableCategories\", value: res.data });\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    filterProductsBySelection();\r\n    dispatch({ type: \"setQuerySkip\", value: 0 });\r\n  }, [JSON.stringify(activeCategories), priceRange]);\r\n\r\n  const handleCategoryToggle = (_id) => {\r\n    const activeCategoryIndex = activeCategories.indexOf(_id);\r\n    activeCategoryIndex === -1\r\n      ? dispatch({ type: \"addActiveCategory\", value: _id })\r\n      : dispatch({ type: \"removeActiveCategory\", value: _id });\r\n  };\r\n\r\n  const handlePriceRangeToggle = (priceRangeId) => {\r\n    const selectedPriceRange = priceRanges.filter(\r\n      (range) => range._id == priceRangeId\r\n    );\r\n    dispatch({ type: \"setPriceRange\", value: selectedPriceRange[0].range });\r\n  };\r\n\r\n  const filterProductsBySelection = () => {\r\n    const category = activeCategories;\r\n    const price = priceRange;\r\n    const filters = { category, price };\r\n    axios.post(FILTER_PRODUCTS_ROUTE, { skip, limit, filters }).then((res) => {\r\n      dispatch({ type: \"setProducts\", value: res.data.products });\r\n      dispatch({ type: \"setListLength\", value: res.data.listLength });\r\n    });\r\n  };\r\n\r\n  const loadMore = () => {\r\n    const category = activeCategories;\r\n    const price = priceRange;\r\n    const filters = { category, price };\r\n    dispatch({ type: \"setQuerySkip\", value: skip + limit });\r\n    axios.post(FILTER_PRODUCTS_ROUTE, { skip, limit, filters }).then((res) => {\r\n      dispatch({\r\n        type: \"loadMoreProducts\",\r\n        value: res.data.products,\r\n      });\r\n    });\r\n  };\r\n\r\n  const renderLoadMoreButton = () => {\r\n    if (listLength - 6 - skip > 0) {\r\n      return <button onClick={() => loadMore()}>Load more</button>;\r\n    }\r\n  };\r\n\r\n  const renderProducts = () => {\r\n    return (\r\n      <section id=\"Shop__products\">\r\n        {products.map((product, i) => {\r\n          return <ProductCard product={product} key={i} />;\r\n        })}\r\n      </section>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Layout title=\"Shop\" description=\"Find something right\" page=\"Shop\">\r\n      <div className=\"content-wrapper\">\r\n        <section id=\"Shop__filter\">\r\n          <CategorySelector\r\n            availableCategories={availableCategories}\r\n            handleChange={handleCategoryToggle}\r\n          />\r\n          <PriceRangeSelector\r\n            priceRanges={priceRanges}\r\n            handleChange={handlePriceRangeToggle}\r\n          />\r\n        </section>\r\n\r\n        {renderProducts()}\r\n        {renderLoadMoreButton()}\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Shop;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useLocation, useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport { GET_PRODUCTS_ROUTE, RELATED_PRODUCTS_ROUTE } from \"../../config\";\r\n\r\nimport { ProductImage, ProductCard } from \"../../components/Product\";\r\nimport Layout from \"../../hoc/Layout\";\r\n\r\nimport \"./Product.scss\";\r\n\r\nconst Product = () => {\r\n  const [product, setProduct] = useState({});\r\n  const [relatedProducts, setRelatedProducts] = useState([]);\r\n  const [error, setError] = useState(false);\r\n\r\n  let { productId } = useParams();\r\n\r\n  const init = (productId) => {\r\n    window.scrollTo(0, 0);\r\n    axios.get(GET_PRODUCTS_ROUTE + `/${productId}`).then((res) => {\r\n      setProduct(res.data[0]);\r\n    });\r\n\r\n    axios.get(RELATED_PRODUCTS_ROUTE + `/${productId}`).then((res) => {\r\n      setRelatedProducts(res.data);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init(productId);\r\n  }, [productId]);\r\n\r\n  const renderProductDetails = ({\r\n    description,\r\n    name,\r\n    price,\r\n    quantity,\r\n    shipping,\r\n    _id,\r\n  }) => {\r\n    if (product.name) {\r\n      return (\r\n        <div id=\"product-display\">\r\n          <ProductImage _id={productId} />\r\n          <div id=\"product-details\">\r\n            <h2>{name}</h2>\r\n            <p>{description}</p>\r\n            <h2 id=\"price\">${price}</h2>\r\n            <div id=\"reference\">\r\n              <h3>Units available: {quantity}</h3>\r\n              <h3>\r\n                {shipping ? \"Shipping available\" : \"Shipping unavailable\"}\r\n              </h3>\r\n              <h3>Product id: {_id}</h3>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderRelatedProducts = () => {\r\n    return relatedProducts[0] ? (\r\n      <div id=\"related-products\">\r\n        <h2>Related Products</h2>\r\n        <div id=\"products\">\r\n          {relatedProducts.map((product, i) => {\r\n            return <ProductCard product={product} key={i} />;\r\n          })}\r\n        </div>\r\n      </div>\r\n    ) : null;\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title={product.name || \"Couldn't find product\"}\r\n      description=\"Product details\"\r\n      page=\"Product\"\r\n    >\r\n      <div className=\"content-wrapper\">\r\n        {renderProductDetails(product)}\r\n\r\n        {renderRelatedProducts()}\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport Layout from \"../../hoc/Layout\";\r\n\r\nimport {\r\n  GET_PRODUCTS_ROUTE,\r\n  ADMIN_ADD_PRODUCT_URL,\r\n  ADMIN_VIEW_PRODUCTS_URL,\r\n  ADMIN_UPDATE_PRODUCT_URL,\r\n} from \"../../config\";\r\n\r\nimport \"./ProductManagement.scss\";\r\n\r\nconst ProductManagement = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [sortBy, setSortBy] = useState(\"_id\");\r\n  const [order, setOrder] = useState(\"desc\");\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(GET_PRODUCTS_ROUTE + `?sortBy=${sortBy}&order=${order}&limit=20`)\r\n      .then((res) => {\r\n        setProducts(res.data);\r\n      });\r\n  }, [sortBy, order]);\r\n\r\n  const renderSortOptions = () => (\r\n    <div id=\"ProductManagement__wrapper__sort\">\r\n      <select\r\n        value={sortBy}\r\n        onChange={(e) => {\r\n          setSortBy(e.target.value);\r\n        }}\r\n      >\r\n        {[\r\n          [\"_id\", \"Date\"],\r\n          [\"sales\", \"Sales\"],\r\n        ].map((sortValue, i) => {\r\n          return (\r\n            <option value={sortValue[0]} key={i}>\r\n              {sortValue[1]}\r\n            </option>\r\n          );\r\n        })}\r\n      </select>\r\n      <select\r\n        value={order}\r\n        onChange={(e) => {\r\n          setOrder(e.target.value);\r\n        }}\r\n      >\r\n        {[\r\n          [\"asc\", \"Ascending\"],\r\n          [\"desc\", \"Descending\"],\r\n        ].map((sortOrder, i) => {\r\n          return (\r\n            <option value={sortOrder[0]} key={i}>\r\n              {sortOrder[1]}\r\n            </option>\r\n          );\r\n        })}\r\n      </select>\r\n    </div>\r\n  );\r\n\r\n  const renderProduct = ({ name, _id, quantity, sales, createdAt }) => (\r\n    <div className=\"product\">\r\n      <h2>{name}</h2>\r\n      <p>Product id: {_id}</p>\r\n      <p>Units remaining: {quantity}</p>\r\n      <p>Units sold: {sales} </p>\r\n      <p>Created at: {createdAt}</p>\r\n      <Link to={ADMIN_UPDATE_PRODUCT_URL + \"/\" + _id}>Edit product</Link>\r\n    </div>\r\n  );\r\n\r\n  const renderProducts = () => {\r\n    return products.map((product) => renderProduct(product));\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Product management\"\r\n      description=\"Add or edit products\"\r\n      page=\"ProductManagement\"\r\n    >\r\n      <div id=\"ProductManagement__wrapper\">\r\n        <div id=\"ProductManagement__wrapper__add\">\r\n          <h2>Have a new product?</h2>\r\n          <Link to={ADMIN_ADD_PRODUCT_URL}>Add one here</Link>\r\n        </div>\r\n\r\n        {renderSortOptions()}\r\n        <div id=\"ProductManagement__wrapper__products\">{renderProducts()}</div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default ProductManagement;\r\n","export const productEditorInitialState = {\r\n  product: {\r\n    name: \"\",\r\n    category: \"\",\r\n    description: \"\",\r\n    price: 0,\r\n    quantity: 0,\r\n    shipping: 1,\r\n    img: \"\",\r\n  },\r\n  categories: [],\r\n  error: \"\",\r\n  renderError: \"\",\r\n  loading: false,\r\n  success: false,\r\n};\r\n\r\nexport function productEditorReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"setUpdateModeData\":\r\n      return {\r\n        ...state,\r\n        product: action.product,\r\n        categories: action.categories,\r\n      };\r\n\r\n    case \"fieldChange\":\r\n      return {\r\n        ...state,\r\n        product: { ...state.product, [action.field]: action.value },\r\n      };\r\n\r\n    case \"setCategories\":\r\n      return { ...state, categories: action.value };\r\n\r\n    case \"error\":\r\n      return { ...state, renderError: true, error: action.value };\r\n    case \"clearError\":\r\n      return { ...state, renderError: false, error: \"\" };\r\n    case \"loading\":\r\n      return { ...state, loading: true };\r\n    case \"loadComplete\":\r\n      return { ...state, loading: false };\r\n    case \"success\":\r\n      return { ...state, success: action.value };\r\n\r\n    default:\r\n      break;\r\n  }\r\n  return state;\r\n}\r\n","import axios from \"axios\";\r\n\r\nimport {\r\n  GET_CATEGORIES_ROUTE,\r\n  GET_PRODUCTS_ROUTE,\r\n  ADD_PRODUCT_ROUTE,\r\n  UPDATE_PRODUCT_ROUTE,\r\n} from \"../../config\";\r\n\r\nexport const getCurrentCategories = () => {\r\n  return axios.get(GET_CATEGORIES_ROUTE).then((res) => {\r\n    return res.data;\r\n  });\r\n};\r\n\r\nexport const getCurrentProductInfo = (_id) => {\r\n  return axios.get(GET_PRODUCTS_ROUTE + \"/\" + _id).then((res) => {\r\n    return res.data;\r\n  });\r\n};\r\n\r\nexport const getDataForProductUpdate = (_id) => {\r\n  const getCats = axios.get(GET_CATEGORIES_ROUTE);\r\n  const getProd = axios.get(GET_PRODUCTS_ROUTE + \"/\" + _id);\r\n  return axios.all([getCats, getProd]).then((res) => {\r\n    const data = { categories: res[0].data, product: res[1].data[0] };\r\n    return data;\r\n  });\r\n};\r\n\r\nexport const convertProductToFormData = (product) => {\r\n  const formData = new FormData();\r\n  if (product.category && product.category.length === 0) {\r\n    delete product.category;\r\n  }\r\n  Object.keys(product).forEach((productKey) => {\r\n    formData.append(productKey, product[productKey]);\r\n  });\r\n  return formData;\r\n};\r\n\r\nexport const createNewProduct = (formData, userData) => {\r\n  const config = {\r\n    headers: { Authorization: `Bearer ${userData.token}` },\r\n  };\r\n  axios\r\n    .post(`${ADD_PRODUCT_ROUTE + \"/\" + userData.user._id}`, formData, config)\r\n    .then((res) => {\r\n      return res.data;\r\n    });\r\n};\r\n\r\nexport const updateProduct = (productId, formData, userData) => {\r\n  const config = {\r\n    headers: { Authorization: `Bearer ${userData.token}` },\r\n  };\r\n\r\n  axios\r\n    .post(\r\n      `${UPDATE_PRODUCT_ROUTE + \"/\" + productId + \"/\" + userData.user._id}`,\r\n      formData,\r\n      config\r\n    )\r\n    .then((res) => {\r\n      return res.data;\r\n    });\r\n};\r\n","import React, { useReducer, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport {\r\n  productEditorInitialState,\r\n  productEditorReducer,\r\n} from \"../../store/ProductEditor\";\r\n\r\nimport { isAuth } from \"../../auth\";\r\nimport {\r\n  getCurrentCategories,\r\n  getDataForProductUpdate,\r\n  convertProductToFormData,\r\n  createNewProduct,\r\n  updateProduct,\r\n} from \"./utils\";\r\n\r\nimport Layout from \"../../hoc/Layout\";\r\nimport { ProductImage } from \"../../components/Product\";\r\nimport FormField from \"../../components/FormField\";\r\n\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nimport \"./ProductEditor.scss\";\r\n\r\nconst ProductEditor = ({ mode }) => {\r\n  const [state, dispatch] = useReducer(productEditorReducer, {\r\n    ...productEditorInitialState,\r\n    mode,\r\n  });\r\n  const userData = isAuth();\r\n  const productId = useParams().productId;\r\n\r\n  useEffect(() => {\r\n    const init = async () => {\r\n      if (mode === \"Update\") {\r\n        const data = await getDataForProductUpdate(productId);\r\n\r\n        dispatch({\r\n          type: \"setUpdateModeData\",\r\n          product: data.product,\r\n          categories: data.categories,\r\n        });\r\n      } else {\r\n        const data = await getCurrentCategories();\r\n        dispatch({ type: \"setCategories\", value: data });\r\n      }\r\n    };\r\n    init();\r\n  }, []);\r\n\r\n  const { categories, product, error, renderError, loading, success } = state;\r\n\r\n  let timeout;\r\n\r\n  const submit = async (e) => {\r\n    const formData = convertProductToFormData(product);\r\n\r\n    switch (mode) {\r\n      case \"Update\":\r\n        updateProduct(productId, formData, userData);\r\n        return;\r\n      case \"Add\":\r\n        createNewProduct(formData, userData);\r\n        return;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const renderCurrentProductImage = () => (\r\n    <div id=\"img-current\">\r\n      <h2>Current image</h2>\r\n      <ProductImage _id={productId} />\r\n    </div>\r\n  );\r\n\r\n  const renderProductImagePreview = () => (\r\n    <div id=\"img-updated\">\r\n      <h2>Selected image</h2>\r\n      <ProductImage\r\n        image={product.img && URL.createObjectURL(product.img)}\r\n        isPreview={true}\r\n      />\r\n    </div>\r\n  );\r\n\r\n  const renderImageInput = () => (\r\n    <div id=\"imgUpdater\">\r\n      <h3>Change product image?</h3>\r\n      <label for=\"img\">Upload new image</label>\r\n      <input\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        id=\"img\"\r\n        onChange={(e) => {\r\n          dispatch({\r\n            type: \"fieldChange\",\r\n            field: \"img\",\r\n            value: e.target.files[0],\r\n          });\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n\r\n  const renderFieldsForUpdating = (forUpdate) =>\r\n    [\r\n      [\"name\", true],\r\n      [\"description\", false],\r\n      [\"price\", true],\r\n      [\"quantity\", false],\r\n    ].map((field, i) => {\r\n      return (\r\n        <FormField\r\n          label={field[0]}\r\n          value={product[field[0]]}\r\n          changeHandler={(e) => {\r\n            e.preventDefault();\r\n            dispatch({\r\n              type: \"fieldChange\",\r\n              field: field[0],\r\n              value: e.currentTarget.value,\r\n            });\r\n          }}\r\n          placeholder={forUpdate ? product[field[0]] : null}\r\n          required={field[1]}\r\n          key={i}\r\n        />\r\n      );\r\n    });\r\n\r\n  const renderSelectors = () => (\r\n    <div id=\"selectors\">\r\n      <div>\r\n        <h3>Product category:</h3>\r\n        <select\r\n          name=\"category\"\r\n          value={product.category}\r\n          onChange={(e) => {\r\n            e.preventDefault();\r\n            dispatch({\r\n              type: \"fieldChange\",\r\n              field: \"category\",\r\n              value: e.target.value,\r\n            });\r\n          }}\r\n        >\r\n          <option value=\"\">None</option>\r\n          {categories.map((category, i) => {\r\n            return (\r\n              <option value={category._id} key={i}>\r\n                {category.name}\r\n              </option>\r\n            );\r\n          })}\r\n        </select>\r\n      </div>\r\n      <div>\r\n        <h3>Shipping?</h3>\r\n        <select\r\n          name=\"shipping\"\r\n          value={product.shipping}\r\n          onChange={(e) => {\r\n            e.preventDefault();\r\n            dispatch({\r\n              type: \"fieldChange\",\r\n              field: \"shipping\",\r\n              value: e.target.value,\r\n            });\r\n          }}\r\n        >\r\n          <option value={1}>Shipping allowed</option>\r\n          <option value={0}>Shipping disabled</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderAddProductForm = () => {\r\n    return (\r\n      <>\r\n        <h2>Enter product information</h2>\r\n        {renderFieldsForUpdating(false)}\r\n        {renderSelectors()}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const renderUpdateProductForm = () => {\r\n    return (\r\n      <>\r\n        <h2>Update current information</h2>\r\n        {renderFieldsForUpdating(true)}\r\n        {renderSelectors()}\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title={`${mode} product`}\r\n      page=\"ProductEditor\"\r\n      description={`Change the details of ${product.name}`}\r\n    >\r\n      <div id=\"wrapper\" className={`${mode}`}>\r\n        {/* {mode === \"Update\" ? renderCurrentProductImage() : null}\r\n        {renderImageInput()}\r\n        <form id=\"form\" className={mode}>\r\n          {mode === \"Update\"\r\n            ? renderUpdateProductForm()\r\n            : renderAddProductForm()}\r\n          <Button\r\n            id=\"ProductEditor__wrapper__button\"\r\n            onClick={submit}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >{`${mode} this product`}</Button>\r\n        </form> */}\r\n        <div id=\"images\">\r\n          {mode === \"Update\" ? renderCurrentProductImage() : null}\r\n          {renderProductImagePreview()}\r\n        </div>\r\n        <form>\r\n          {mode === \"Update\"\r\n            ? renderUpdateProductForm()\r\n            : renderAddProductForm()}\r\n          {renderImageInput()}\r\n          <Button\r\n            id=\"ProductEditor__wrapper__button\"\r\n            onClick={submit}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >{`${mode} this product`}</Button>\r\n        </form>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default ProductEditor;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport { isAuth } from \"../../auth\";\r\n\r\nimport Layout from \"../../hoc/Layout\";\r\nimport FormField from \"../../components/FormField\";\r\n\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nimport {\r\n  GET_CATEGORIES_ROUTE,\r\n  ADMIN_ADD_CATEGORY_URL,\r\n  UPDATE_CATEGORY_ROUTE,\r\n} from \"../../config\";\r\n\r\nimport \"./CategoryManagement.scss\";\r\n\r\nconst CategoryManagement = () => {\r\n  const [categories, setCategories] = useState([]);\r\n  const [names, setNames] = useState({});\r\n\r\n  useEffect(() => {\r\n    axios.get(GET_CATEGORIES_ROUTE).then((res) => {\r\n      setCategories(res.data);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const categoryNames = {};\r\n    categories &&\r\n      categories.forEach((category) => {\r\n        categoryNames[category._id] = category.name;\r\n      });\r\n    setNames(categoryNames);\r\n  }, [categories]);\r\n\r\n  const { user, token } = isAuth();\r\n\r\n  const config = {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  };\r\n\r\n  const updateCategory = (categoryId, name) => {\r\n    axios\r\n      .post(\r\n        UPDATE_CATEGORY_ROUTE + \"/\" + categoryId + \"/\" + user._id,\r\n        { name },\r\n        config\r\n      )\r\n      .then((res) => {\r\n        if (res.data.nModified) {\r\n          window.location.reload();\r\n        }\r\n      });\r\n  };\r\n  const deleteCategory = (categoryId) => {\r\n    axios\r\n      .delete(GET_CATEGORIES_ROUTE + \"/\" + categoryId + \"/\" + user._id, config)\r\n      .then(() => {\r\n        window.location.reload();\r\n      });\r\n  };\r\n\r\n  const renderCategory = ({ name, _id }) => (\r\n    <div className=\"category\">\r\n      <h2>{name}</h2>\r\n      <FormField\r\n        label=\"Change category name\"\r\n        value={names[_id] || \"\"}\r\n        changeHandler={(e) => {\r\n          setNames({ ...names, [_id]: e.target.value });\r\n        }}\r\n        required={true}\r\n      />\r\n      <div className=\"btn-wrapper\">\r\n        <Button\r\n          onClick={() => {\r\n            updateCategory(_id, names[_id]);\r\n          }}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n        >\r\n          Submit changes\r\n        </Button>\r\n        <Button\r\n          onClick={() => {\r\n            deleteCategory(_id);\r\n          }}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n        >\r\n          Delete category\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderCategories = () => {\r\n    return categories.map((category) => renderCategory(category));\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Product Category management\"\r\n      description=\"Add, alter, or delete product categories\"\r\n      page=\"CategoryManagement\"\r\n    >\r\n      <div id=\"CategoryManagement__wrapper\">\r\n        <div id=\"CategoryManagement__wrapper__add\">\r\n          <h2>Need a new category?</h2>\r\n          <Link to={ADMIN_ADD_CATEGORY_URL}>Add a new one here</Link>\r\n        </div>\r\n\r\n        {renderCategories()}\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default CategoryManagement;\r\n","export const addCategoryInitialState = {\r\n  Name: \"\",\r\n  Error: \"\",\r\n  RenderError: false,\r\n  Loading: false,\r\n  Success: false,\r\n};\r\n\r\nexport function addCategoryReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"fieldChange\":\r\n      return { ...state, [action.field]: action.value };\r\n    case \"error\":\r\n      return { ...state, RenderError: true, Error: action.value };\r\n    case \"clearError\":\r\n      return { ...state, RenderError: false, Error: \"\" };\r\n    case \"loading\":\r\n      return { ...state, Loading: true };\r\n    case \"loadComplete\":\r\n      return { ...state, Loading: false };\r\n    case \"success\":\r\n      return { ...state, Success: true };\r\n\r\n    default:\r\n      break;\r\n  }\r\n  return state;\r\n}\r\n","import React, { useReducer } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n  addCategoryReducer,\r\n  addCategoryInitialState,\r\n} from \"../../../store/AddCategory\";\r\n\r\nimport { ADD_CATEGORY_ROUTE } from \"../../../config\";\r\n\r\nimport Layout from \"../../../hoc/Layout\";\r\nimport FormField from \"../../../components/FormField\";\r\nimport UIMessage from \"../../../components/UIMessage\";\r\n\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nimport \"./Add.scss\";\r\n\r\nconst AddCategory = () => {\r\n  const [state, dispatch] = useReducer(\r\n    addCategoryReducer,\r\n    addCategoryInitialState\r\n  );\r\n\r\n  const { Name, Error, RenderError, Loading, Success } = state;\r\n\r\n  if (Success) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n\r\n  const attemptNewCategory = (name) => {\r\n    axios\r\n      .post(`${ADD_CATEGORY_ROUTE}`, { name })\r\n      .then(() => {\r\n        dispatch({ type: \"success\" });\r\n      })\r\n      .catch((error) => {\r\n        dispatch({ type: \"error\", value: error.response.data.error });\r\n      });\r\n  };\r\n\r\n  let timeout;\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    dispatch({ type: \"clearError\" });\r\n    dispatch({ type: \"loading\" });\r\n    if (timeout) {\r\n      clearTimeout(timeout);\r\n    }\r\n    await attemptNewCategory(Name);\r\n    dispatch({ type: \"loadComplete\" });\r\n    timeout = setTimeout(() => {\r\n      dispatch({ type: \"clearError\" });\r\n    }, 2000);\r\n  };\r\n\r\n  const renderForm = () => {\r\n    return (\r\n      <form id=\"AddCategory__wrapper__form\">\r\n        <FormField\r\n          label=\"Category name\"\r\n          value={Name}\r\n          required={true}\r\n          changeHandler={(e) =>\r\n            dispatch({\r\n              type: \"fieldChange\",\r\n              field: \"Name\",\r\n              value: e.currentTarget.value,\r\n            })\r\n          }\r\n        />\r\n        <Button variant=\"contained\" color=\"primary\" onClick={submit}>\r\n          Add new category\r\n        </Button>\r\n        {Loading ? <p>FICK</p> : null}\r\n        {RenderError ? <UIMessage message={Error} type=\"error\" /> : null}\r\n        {Success ? <UIMessage message={Success} type=\"success\" /> : null}\r\n      </form>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Add a Product Category\"\r\n      description=\"Pick a category name for new products\"\r\n      page=\"AddCategory\"\r\n    >\r\n      <div id=\"AddCategory__wrapper\">{renderForm()}</div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AddCategory;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Layout from \"../../hoc/Layout\";\r\n\r\nimport { isAuth } from \"../../auth\";\r\n\r\nimport {\r\n  GET_ORDERS_ROUTE,\r\n  GET_SHIPPING_STATUS_VALUES_ROUTE,\r\n  UPDATE_SHIPPING_STATUS_ROUTE,\r\n} from \"../../config\";\r\n\r\nimport \"./AllOrders.scss\";\r\n\r\nconst AllOrders = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [shippingStatusOptions, setShippingStatusOptions] = useState([]);\r\n  const [\r\n    currentShippingStatusValues,\r\n    setCurrentShippingStatusValues,\r\n  ] = useState({});\r\n\r\n  const {\r\n    user: { _id },\r\n    token,\r\n  } = isAuth();\r\n  const config = {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios.get(GET_ORDERS_ROUTE + `/${_id}`, config).then((res) => {\r\n      const orders = res.data;\r\n      setOrders(orders);\r\n      const currentShippingValues = {};\r\n      orders.forEach((order) => {\r\n        currentShippingValues[order._id] = order.status;\r\n      });\r\n      setCurrentShippingStatusValues(currentShippingValues);\r\n    });\r\n    axios\r\n      .get(GET_SHIPPING_STATUS_VALUES_ROUTE + `/${_id}`, config)\r\n      .then((res) => {\r\n        setShippingStatusOptions(res.data);\r\n      });\r\n  }, []);\r\n\r\n  const renderProductsInTransaction = (products) => {\r\n    return (\r\n      <>\r\n        <section className=\"order__productsInfo\">\r\n          <h2>Products</h2>\r\n          {products.map(({ _id, name, price, quantity }) => {\r\n            return (\r\n              <div className=\"order__productsInfo__product\">\r\n                <Link to={`/product/${_id}`}>\r\n                  <h3>{name}</h3>\r\n                </Link>\r\n                <p>Product id: {_id}</p>\r\n                <p>Price per unit: ${price}</p>\r\n                <p>Quantity: {quantity}</p>\r\n              </div>\r\n            );\r\n          })}\r\n        </section>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const renderClientInfo = ({ name, _id, email }) => (\r\n    <section className=\"order__clientInfo\">\r\n      <h2>Client</h2>\r\n      <p>Client id: {_id}</p>\r\n      <p>Name: {name}</p>\r\n      <p>Email: {email}</p>\r\n    </section>\r\n  );\r\n  const renderOrderInfo = (address, _id, createdAt, amount) => (\r\n    <section className=\"order__orderInfo\">\r\n      <h2>Order</h2>\r\n      <p>Order id: {_id}</p>\r\n      <p>Shipping address: {address}</p>\r\n      <p>Total cost: ${amount}</p>\r\n      <p>Time stamp: {createdAt}</p>\r\n      <div className=\"order__orderInfo__status\">\r\n        <p>Order status:</p>\r\n        <select\r\n          onChange={(event) => handleShippingStatusChange(event, _id)}\r\n          value={currentShippingStatusValues[_id]}\r\n        >\r\n          {shippingStatusOptions.map((statusOption) => {\r\n            return <option value={statusOption}>{statusOption}</option>;\r\n          })}\r\n        </select>\r\n      </div>\r\n    </section>\r\n  );\r\n\r\n  const handleShippingStatusChange = (event, orderId) => {\r\n    const newStatus = event.target.value;\r\n    setCurrentShippingStatusValues({\r\n      ...currentShippingStatusValues,\r\n      [orderId]: newStatus,\r\n    });\r\n    axios.post(\r\n      UPDATE_SHIPPING_STATUS_ROUTE + `/${_id}/${orderId}`,\r\n      { newStatus },\r\n      config\r\n    );\r\n  };\r\n\r\n  const renderOrders = () =>\r\n    orders.map(({ address, _id, products, createdAt, amount, clientData }) => (\r\n      <div className=\"order\">\r\n        {renderOrderInfo(address, _id, createdAt, amount)}\r\n        {renderClientInfo(clientData)}\r\n\r\n        {renderProductsInTransaction(products)}\r\n      </div>\r\n    ));\r\n\r\n  return (\r\n    <Layout\r\n      title=\"All Orders\"\r\n      description=\"Update the order status!\"\r\n      page=\"AllOrders\"\r\n    >\r\n      {renderOrders()}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AllOrders;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Layout from \"../../hoc/Layout\";\r\n\r\nimport { isAuth } from \"../../auth\";\r\n\r\nimport { GET_USER_ORDERS_ROUTE } from \"../../config\";\r\n\r\nimport \"./UserOrders.scss\";\r\n\r\nconst Orders = () => {\r\n  const [orders, setOrders] = useState([]);\r\n\r\n  const {\r\n    user: { _id },\r\n    token,\r\n  } = isAuth();\r\n\r\n  const config = {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(GET_USER_ORDERS_ROUTE + \"/\" + _id, config)\r\n      .then((res) => setOrders(res.data));\r\n  }, []);\r\n\r\n  //user, status, _id, products, createdAt\r\n\r\n  const renderProducts = (products) => (\r\n    <ul className=\"order__products\">\r\n      <h2>Products ordered</h2>\r\n      {products.map(({ _id: productId, quantity, name, price }) => (\r\n        <li className=\"order__products__product\">\r\n          <p>Name: {name} </p>\r\n          <p>Id: {productId} </p>\r\n          <p>Quantity: {quantity} </p>\r\n          <p>Price per unit: ${price} </p>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n\r\n  const renderOrder = ({\r\n    status,\r\n    _id: orderId,\r\n    amount,\r\n    products,\r\n    address,\r\n    user: userId,\r\n    createdAt,\r\n    updatedAt,\r\n  }) => (\r\n    <section className=\"order\">\r\n      <h2>Order information</h2>\r\n      <p>Your id: {userId}</p>\r\n      <p>Order id: {orderId}</p>\r\n      <p>Shipped to: {address}</p>\r\n      <p>Order status: {status} </p>\r\n      <p>Date of order: {createdAt}</p>\r\n      <p>Last updated at: {updatedAt} </p>\r\n      <p>Amount charged: ${amount}</p>\r\n      {renderProducts(products)}\r\n    </section>\r\n  );\r\n\r\n  const renderOrders = () => (\r\n    <>\r\n      {orders.map((order) => {\r\n        {\r\n          return renderOrder(order);\r\n        }\r\n      })}\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Your order history\"\r\n      description=\"Here's all the details\"\r\n      page=\"UserOrders\"\r\n    >\r\n      {renderOrders()}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\nimport PrivateRoute from \"./Private.Routes\";\r\nimport AdministrativeRoute from \"./Admin.Routes\";\r\n\r\nimport Nav from \"./components/Nav\";\r\n\r\nimport Home from \"./views/Home\";\r\n\r\n// Auth\r\nimport Login from \"./views/Login\";\r\nimport Signup from \"./views/Signup\";\r\n\r\n// Client\r\nimport Cart from \"./views/Cart\";\r\nimport UserAcccount from \"./views/UserAccount\";\r\nimport UpdateAccount from \"./views/UpdateAccount\";\r\n\r\n// Products\r\nimport Shop from \"./views/Shop\";\r\nimport Product from \"./views/Product\";\r\nimport ProductManagement from \"./views/ProductManagement\";\r\nimport ProductEditor from \"./views/ProductEditor\";\r\n\r\n// Product Categories\r\nimport CategoryManagement from \"./views/CategoryManagement\";\r\nimport AddCategory from \"./views/CategoryManagement/Add\";\r\n\r\n// Orders\r\n\r\nimport AllOrders from \"./views/AllOrders\";\r\nimport UserOrders from \"./views/UserOrders\";\r\n\r\nimport {\r\n  // Public\r\n  SHOP_URL,\r\n  PRODUCT_URL,\r\n  // Auth\r\n  SIGNUP_URL,\r\n  LOGIN_URL,\r\n  //// Client\r\n  CLIENT_CART_URL,\r\n  CLIENT_ACCOUNT_URL,\r\n  CLIENT_ACCOUNT_UPDATE_URL,\r\n  CLIENT_ORDER_HISTORY_URL,\r\n  //// Admin\r\n  ADMIN_ACCOUNT_URL,\r\n  ADMIN_ACCOUNT_UPDATE_URL,\r\n  // Products\r\n  ADMIN_PRODUCT_MANAGEMENT_URL,\r\n  ADMIN_ADD_PRODUCT_URL,\r\n  ADMIN_UPDATE_PRODUCT_URL,\r\n  // Categories\r\n  ADMIN_CATEGORY_MANAGEMENT_URL,\r\n  ADMIN_ADD_CATEGORY_URL,\r\n  // Orders\r\n  ADMIN_VIEW_ORDERS_URL,\r\n} from \"./config\";\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <Router>\r\n      <Nav />\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path={SHOP_URL} exact component={Shop} />\r\n        <Route path={PRODUCT_URL + \"/:productId\"} exact component={Product} />\r\n        <Route path={SIGNUP_URL} exact component={Signup} />\r\n        <Route path={LOGIN_URL} exact component={Login} />\r\n\r\n        {/* //////// Client Routes //////// */}\r\n\r\n        <PrivateRoute path={CLIENT_CART_URL} exact component={Cart} />\r\n        <PrivateRoute\r\n          path={CLIENT_ACCOUNT_URL}\r\n          exact\r\n          component={UserAcccount}\r\n        />\r\n        <PrivateRoute\r\n          path={CLIENT_ACCOUNT_UPDATE_URL}\r\n          exact\r\n          component={UpdateAccount}\r\n        />\r\n        <PrivateRoute\r\n          path={CLIENT_ORDER_HISTORY_URL}\r\n          exact\r\n          component={UserOrders}\r\n        />\r\n\r\n        {/* //////// Admin Routes //////// */}\r\n\r\n        {/* //// Account ////  */}\r\n\r\n        {/* Account Details */}\r\n        <AdministrativeRoute\r\n          path={ADMIN_ACCOUNT_URL}\r\n          exact\r\n          component={UserAcccount}\r\n        />\r\n\r\n        {/* Update Details */}\r\n        <AdministrativeRoute\r\n          path={ADMIN_ACCOUNT_UPDATE_URL}\r\n          exact\r\n          component={UpdateAccount}\r\n        />\r\n\r\n        {/* //// Manage Products //// */}\r\n        <AdministrativeRoute\r\n          path={ADMIN_PRODUCT_MANAGEMENT_URL}\r\n          exact\r\n          component={ProductManagement}\r\n        />\r\n\r\n        {/* Add Product */}\r\n        <AdministrativeRoute\r\n          path={ADMIN_ADD_PRODUCT_URL}\r\n          exact\r\n          component={() => <ProductEditor mode={\"Add\"} />}\r\n        />\r\n\r\n        {/* Update Product */}\r\n        <AdministrativeRoute\r\n          path={ADMIN_UPDATE_PRODUCT_URL + \"/:productId\"}\r\n          exact\r\n          component={() => <ProductEditor mode={\"Update\"} />}\r\n        />\r\n\r\n        {/* //// Manage Product Categories //// */}\r\n        <AdministrativeRoute\r\n          path={ADMIN_CATEGORY_MANAGEMENT_URL}\r\n          exact\r\n          component={CategoryManagement}\r\n        />\r\n\r\n        {/* Add Product Category */}\r\n        <AdministrativeRoute\r\n          path={ADMIN_ADD_CATEGORY_URL}\r\n          exact\r\n          component={AddCategory}\r\n        />\r\n\r\n        {/* View Orders */}\r\n        <AdministrativeRoute\r\n          path={ADMIN_VIEW_ORDERS_URL}\r\n          exact\r\n          component={AllOrders}\r\n        />\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Routes from \"./Routes\";\n\nimport \"./styles/Main.scss\";\n\nReactDOM.render(\n  <React.Fragment>\n    <Routes />\n  </React.Fragment>,\n  document.getElementById(\"App\")\n);\n"],"sourceRoot":""}