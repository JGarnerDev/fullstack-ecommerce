(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{125:function(e,t,c){},126:function(e,t,c){},140:function(e,t,c){},141:function(e,t,c){},142:function(e,t,c){},143:function(e,t,c){},144:function(e,t,c){},145:function(e,t,c){},161:function(e,t,c){},162:function(e,t,c){},163:function(e,t,c){},164:function(e,t,c){},165:function(e,t,c){},166:function(e,t,c){},167:function(e,t,c){},168:function(e,t,c){},169:function(e,t,c){},170:function(e,t,c){},171:function(e,t,c){},172:function(e,t,c){},173:function(e,t,c){},174:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c(0),a=c.n(n),i=c(13),o=c.n(i),s=c(12),d=c(16),u=c(3),j=c(62),l=c(8),p=c.n(l),b=[{_id:0,name:"All",range:[0,1e6]},{_id:1,name:"$0  to $9",range:[0,9]},{_id:2,name:"$10 to $19",range:[10,19]},{_id:3,name:"$20 to $29",range:[20,29]},{_id:4,name:"$30 to $39",range:[30,39]},{_id:5,name:"$40+",range:[40,1e6]}],h="/signup",O="/login",f="/Client/cart",m="/Client/account",g="/Client/account/update",x="/Client/account/orders",v="/Administrator/account",y="/Administrator/account/update",_="/Administrator/products",w="/Administrator/products/add",C="/Administrator/products/update",S="/Administrator/categories",k="/Administrator/categories/add",A="/Administrator/orders",N="https://jg-telephono.herokuapp.com/api",E=N+"/categories",P=N+"/products",I=N+"/products/filter",L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())},R=function(){return!("undefined"===typeof window||!localStorage.getItem("jwt"))&&JSON.parse(localStorage.getItem("jwt"))},B=function(){if("undefined"!==typeof window&&localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")).user.role)return!0;return!1},D=function(e){var t=e.component,c=Object(j.a)(e,["component"]);return Object(r.jsx)(d.b,Object(u.a)(Object(u.a)({},c),{},{render:function(e){return R()?Object(r.jsx)(t,Object(u.a)({},e)):Object(r.jsx)(d.a,{to:{pathname:"/signup",state:{from:e.location}}})}}))},U=function(e){var t=e.component,c=Object(j.a)(e,["component"]);return Object(r.jsx)(d.b,Object(u.a)(Object(u.a)({},c),{},{render:function(e){return B()?Object(r.jsx)(t,Object(u.a)({},e)):Object(r.jsx)(d.a,{to:{pathname:"/",state:{from:e.location}}})}}))},q=c(9),T=function(e){"undefined"!==typeof window&&(localStorage.removeItem("cart"),e())},M=c(214),F=c(215),$=c(216),H=c(224),J=c(219),z=c(204),Q=c(208),K=c(209),V=c(210),Y=c(211),W=c(212),G=c(213),X=c(217),Z=(c(125),a.a.memo((function(){var e,t=a.a.useState(!1),c=Object(q.a)(t,2),n=c[0],i=c[1];e=R()?B()?[[Object(r.jsx)(z.a,{}),"/","Home"],[Object(r.jsx)(Q.a,{}),v,"My account (Admin)"],[Object(r.jsx)(K.a,{}),A,"All orders"],[Object(r.jsx)(K.a,{}),x,"My orders"],[Object(r.jsx)(V.a,{}),"/","Log out"]]:[[Object(r.jsx)(z.a,{}),"/","Home"],[Object(r.jsx)(Y.a,{}),m,"My account"],[Object(r.jsx)(V.a,{}),"/","Log out"]]:[[Object(r.jsx)(z.a,{}),"/","Home"],[Object(r.jsx)(W.a,{}),h,"Sign up"],[Object(r.jsx)(G.a,{}),O,"Log in"]];return Object(r.jsxs)("nav",{id:"Nav",children:[Object(r.jsx)(s.b,{to:"/shop",children:"Products"}),Object(r.jsx)(s.b,{to:f,children:Object(r.jsx)("p",{children:"My cart"})}),Object(r.jsx)($.a,{onClick:function(){i(!n)},children:Object(r.jsx)(X.a,{})}),Object(r.jsx)(H.a,{anchor:"right",open:n,onOpen:function(){return i(!0)},onClose:function(){return i(!1)},children:Object(r.jsx)(J.a,{id:"Nav__list",children:e.map((function(e,t){return"Log out"!==e[2]?Object(r.jsx)(M.a,{onClick:function(){i(!n)},children:Object(r.jsxs)(s.b,{to:e[1],children:[Object(r.jsx)(F.a,{children:e[0]}),e[2]]})},t):Object(r.jsx)(M.a,{onClick:function(){i(!n),"undefined"!==typeof window&&(localStorage.removeItem("jwt"),p.a.get("https://jg-telephono.herokuapp.com/api/auth/logout").then((function(e){})).catch((function(e){})))},children:Object(r.jsxs)(s.b,{to:e[1],children:[Object(r.jsx)(F.a,{children:e[0]}),e[2]]})},t)}))})})]})}))),ee={productsBySales:[],productsByDate:[],sort:"_id",order:"asc",limit:3};function te(e,t){switch(t.type){case"productsBySales":return Object(u.a)(Object(u.a)({},e),{},{productsBySales:t.value});case"productsByDate":return Object(u.a)(Object(u.a)({},e),{},{productsByDate:t.value});case"sort":return Object(u.a)(Object(u.a)({},e),{},{sort:t.value});case"order":return Object(u.a)(Object(u.a)({},e),{},{order:t.value});case"limit":return Object(u.a)(Object(u.a)({},e),{},{limit:t.value})}return e}c(126);var ce=function(e){var t=e.title,c=void 0===t?"View":t,n=e.page,i=void 0===n?"This page doesn't have an id selector!":n,o=e.description,s=void 0===o?"A page of this website":o,d=e.children;return Object(r.jsxs)("div",{id:i,className:"page",children:[Object(r.jsxs)("div",{id:i+"__banner",className:"banner",children:[Object(r.jsx)("h1",{children:c}),Object(r.jsx)("h2",{children:s})]}),Object(r.jsx)(a.a.Fragment,{children:d})]})},re=c(19),ne=c(88),ae=c.n(ne),ie=c(89),oe=(c(139),c(140),function(e){var t=e._id,c=e.isPreview,n=e.image;return c?Object(r.jsx)("img",{src:n,className:"productCard__image",id:"ProductEditor__wrapper__imgPreview"}):Object(r.jsx)("div",{className:"img-wrapper",children:Object(r.jsx)(ie.LazyLoadImage,{className:"productCard__image",src:P+"/".concat(t,"/img")||!1,effect:"blur"})})}),se=function(e){var t,c=e.product,a=e.inCart,i=e.setUpdate,o=void 0===i?function(e){return e}:i,d=e.update,j=void 0===d?void 0:d,l=e.showcase,p=Object(n.useState)(c.quantity),b=Object(q.a)(p,2),h=b[0],O=b[1],f=function(){!function(e){var t=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.push(Object(u.a)(Object(u.a)({},e),{},{quantity:1,maxQuantity:e.quantity})),t=Array.from(new Set(t.map((function(e){return e._id})))).map((function(e){return t.find((function(t){return t._id===e}))})),localStorage.setItem("cart",JSON.stringify(t)))}(c)},m=function(e){!function(e){var t=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t=t.filter((function(t){return t._id!==e})),localStorage.setItem("cart",JSON.stringify(t)))}(e)},g=function(e,t){return function(c){o(!j);var r;(r=c.target.value)<1?r=1:r>=t&&(r=t),O(r),function(e,t){var c=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart"))),c.map((function(r,n){r._id===e&&(c[n].quantity=parseInt(t))})),localStorage.setItem("cart",JSON.stringify(c)))}(e,r)}},x=function(e){var t=e.name,c=e.price,n=e.description,a=e._id;return n.length>75&&(n=n.slice(0,75)+"..."),Object(r.jsxs)("div",{className:"product-details",children:[Object(r.jsx)(oe,{_id:a,name:t}),Object(r.jsxs)("div",{className:"productCard__info",children:[Object(r.jsx)("h3",{children:t}),Object(r.jsx)("p",{children:n}),Object(r.jsxs)("p",{children:["$",c]})]})]})};return a?Object(r.jsxs)("div",{className:"productCard cart",children:[x(c),function(e){var t=e._id,c=e.maxQuantity;return Object(r.jsxs)("div",{className:"product-cartOptions",children:[Object(r.jsxs)("p",{className:"units-available",children:[" ",c," available"]}),Object(r.jsx)("input",{className:"quantity-adjuster",type:"number",value:h,onChange:g(t,c)}),Object(r.jsx)($.a,{onClick:function(){m(t),o(!j)},variant:"contained",color:"secondary",children:"Remove"})]})}(c)]}):Object(r.jsxs)("div",{className:"productCard",id:l&&"showcase",children:[x(c),(t=c._id,Object(r.jsxs)("div",{className:"productCard__buttons",children:[Object(r.jsx)(s.b,{to:"/product/".concat(t),children:"View"}),Object(r.jsx)("button",{onClick:f,children:"Add to cart"})]}))]})},de=c(220),ue=(c(141),function(){var e=Object(n.useState)({categories:[],category:"",searchString:"",searched:!1,products:[]}),t=Object(q.a)(e,2),c=t[0],a=t[1];Object(n.useEffect)((function(){p.a.get(E).then((function(e){a(Object(u.a)(Object(u.a)({},c),{},{categories:e.data}))}))}),[]);var i=c.categories,o=c.category,s=c.searchString,d=c.searched,j=c.products,l=function(e){e.preventDefault(),function(){var e={search:s||" ",category:o||"All"},t=ae.a.stringify(e);p.a.get("https://jg-telephono.herokuapp.com/api/products/search"+"?".concat(t),{}).then((function(e){a(Object(u.a)(Object(u.a)({},c),{},{products:e.data,searched:!0}))}))}()},b=function(e){return function(t){a(Object(u.a)(Object(u.a)({},c),{},Object(re.a)({searched:!1},e,t.target.value)))}};return Object(r.jsxs)("section",{id:"Search",children:[Object(r.jsx)("h2",{children:"Looking for something in particular?"}),Object(r.jsxs)("form",{onSubmit:l,children:[Object(r.jsxs)("select",{onChange:b("category"),children:[Object(r.jsx)("option",{value:"All",children:"Categories"}),i.map((function(e,t){return Object(r.jsx)("option",{value:e._id,children:e.name},t)}))]}),Object(r.jsx)("input",{type:"search",onChange:b("searchString"),placeholder:"Search our models"}),Object(r.jsx)("button",{children:Object(r.jsx)(de.a,{})})]}),j.length?Object(r.jsxs)("div",{className:j.length?"display":"",children:[Object(r.jsx)("h3",{children:"Here's what we found"}),j.map((function(e,t){return Object(r.jsx)(se,{product:e},t)}))]}):d?Object(r.jsxs)("h3",{children:['Sorry! No results for "',s,'"']}):null]})}),je=(c(142),function(){var e=Object(n.useReducer)(te,ee),t=Object(q.a)(e,2),c=t[0],a=t[1],i=c.productsBySales,o=c.productsByDate;c.sort,c.order,c.limit;Object(n.useEffect)((function(){s()}),[]);var s=function(){d(),u()},d=function(){p.a.get(P+"?sortBy=sales&order=desc&limit=3").then((function(e){a({type:"productsBySales",value:e.data})}))},u=function(){p.a.get(P+"?sortBy=_id&order=desc&limit=3").then((function(e){a({type:"productsByDate",value:e.data})}))};return Object(r.jsxs)(ce,{title:"TelePhono",page:"Home",description:"Reach out, get connected",children:[Object(r.jsx)("div",{id:"oval"}),o[0]&&Object(r.jsx)(se,{product:o[0],showcase:!0}),Object(r.jsx)(ue,{}),Object(r.jsxs)("section",{id:"newest_products",className:"display",children:[Object(r.jsx)("h3",{className:"display__heading",children:"New Releases"}),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"stripe"}),o.map((function(e,t){return Object(r.jsx)(se,{product:e},t)}))]})]}),Object(r.jsxs)("section",{id:"popular_products",className:"display",children:[Object(r.jsx)("h3",{className:"display__heading",children:"Most popular"}),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"stripe"}),i.map((function(e,t){return Object(r.jsx)(se,{product:e},t)}))]})]})]})}),le=c(26),pe=c.n(le),be=c(34),he={Email:"",Password:"",Error:"",RenderError:!1,Loading:!1,Success:!1};function Oe(e,t){switch(t.type){case"fieldChange":return Object(u.a)(Object(u.a)({},e),{},Object(re.a)({},t.field,t.value));case"error":return Object(u.a)(Object(u.a)({},e),{},{RenderError:!0,Error:t.value});case"clearError":return Object(u.a)(Object(u.a)({},e),{},{RenderError:!1,Error:""});case"loading":return Object(u.a)(Object(u.a)({},e),{},{Loading:!0});case"loadComplete":return Object(u.a)(Object(u.a)({},e),{},{Loading:!1});case"success":return Object(u.a)(Object(u.a)({},e),{},{Success:!0});case"redirect":return Object(u.a)(Object(u.a)({},e),{},{Redirect:!0})}return e}var fe=c(223),me=function(e){var t,c=e.label,n=e.value,a=e.changeHandler,i=e.required,o=void 0!==i&&i,s=e.placeholder,d=void 0===s?"":s;return t=-1!==c.toLowerCase().indexOf("password")?"password":"email"===c?"email":"price"===c||"quantity"===c?"number":"text",d=""+d,Object(r.jsx)(fe.a,{type:t,label:c,value:n,required:o,onChange:a,placeholder:d})},ge=c(221),xe=(c(143),function(e){var t=e.message,c=e.type;return Object(r.jsxs)("label",{className:"UIMessage ".concat(c),children:["error"===c?Object(r.jsx)(ge.a,{}):null,Object(r.jsx)("p",{children:t})," "]})}),ve=(c(144),function(){var e=Object(n.useReducer)(Oe,he),t=Object(q.a)(e,2),c=t[0],a=t[1],i=c.Email,o=c.Password,s=c.Error,u=c.RenderError,j=c.Loading,l=c.Success;if(l)return Object(r.jsx)(d.a,{to:"/"});var b,h=function(e,t){var c={Email:e,Password:t};p.a.post("".concat("https://jg-telephono.herokuapp.com/api/auth/login"),c).then((function(e){L(e.data,(function(){a({type:"success"})}))})).catch((function(e){a({type:"error",value:e})}))},O=function(){var e=Object(be.a)(pe.a.mark((function e(t){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a({type:"clearError"}),a({type:"loading"}),b&&clearTimeout(b),e.next=6,h(i,o);case 6:a({type:"loadComplete"}),b=setTimeout((function(){a({type:"clearError"})}),2e3);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(ce,{title:"Log in",description:"Welcome back!",page:"Login",children:Object(r.jsxs)("div",{id:"Login__wrapper",children:[Object(r.jsxs)("form",{id:"Login__wrapper__form",children:[[["Email",i,!0],["Password",o,!0]].map((function(e,t){return Object(r.jsx)(me,{label:e[0],value:e[1],required:e[2],changeHandler:function(t){return a({type:"fieldChange",field:e[0],value:t.currentTarget.value})}},t)})),Object(r.jsx)($.a,{variant:"contained",color:"primary",onClick:O,children:"Log in"}),j?Object(r.jsx)("p",{children:"FICK"}):null,u?Object(r.jsx)(xe,{message:s,type:"error"}):null,l?Object(r.jsx)(xe,{message:l,type:"success"}):null]}),Object(r.jsx)("p",{id:"Login__wrapper__onboard",children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Nemo ex quod ipsam ut enim et reiciendis molestias voluptates, sunt molestiae, atque porro assumenda repellat delectus deleniti, a laudantium. Beatae, nihil?"})]})})}),ye={Name:"",Email:"",Password:"","Confirm password":"",Admin:!1,Error:"",RenderError:!1,Loading:!1,Success:!1};function _e(e,t){switch(t.type){case"fieldChange":return Object(u.a)(Object(u.a)({},e),{},Object(re.a)({},t.field,t.value));case"admin":return Object(u.a)(Object(u.a)({},e),{},{Admin:!e.Admin});case"error":return Object(u.a)(Object(u.a)({},e),{},{RenderError:!0,Error:t.value});case"clearError":return Object(u.a)(Object(u.a)({},e),{},{RenderError:!1,Error:""});case"loading":return Object(u.a)(Object(u.a)({},e),{},{Loading:!0});case"loadComplete":return Object(u.a)(Object(u.a)({},e),{},{Loading:!1});case"success":return Object(u.a)(Object(u.a)({},e),{},{Success:!0});case"redirect":return Object(u.a)(Object(u.a)({},e),{},{Redirect:!0})}return e}var we=c(227),Ce=c(226),Se=c(222),ke=(c(145),function(){var e=Object(n.useReducer)(_e,ye),t=Object(q.a)(e,2),c=t[0],a=t[1],i=c.Name,o=c.Email,s=c.Password,u=c["Confirm password"],j=c.Admin,l=c.Error,b=c.RenderError,h=c.Loading,O=c.Success;if(O)return Object(r.jsx)(d.a,{to:"/"});var f,m=function(e,t,c,r){p.a.post("".concat("https://jg-telephono.herokuapp.com/api/auth/signup"),{name:e,password:c,email:t,role:r}).then((function(e){var t=e.data;L(t,(function(){a({type:"success"})}))})).catch((function(e){a({type:"error",value:e.response.data.error})}))},g=function(){var e=Object(be.a)(pe.a.mark((function e(t){var c;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a({type:"clearError"}),f&&clearTimeout(f),s===u){e.next=5;break}return e.abrupt("return",a({type:"error",value:"Password confirmation unsuccessful - both entries need to be the same!"}));case 5:return a({type:"loading"}),c=+j,e.next=9,m(i,o,s,c);case 9:a({type:"loadComplete"}),f=setTimeout((function(){a({type:"clearError"})}),2e3);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(ce,{title:"Sign up",description:"Shop with ease and security",page:"Signup",children:Object(r.jsxs)("div",{id:"Signup__wrapper",children:[Object(r.jsxs)("form",{id:"Signup__wrapper__form",children:[[["Name",i,!0],["Email",o,!0],["Password",s,!0],["Confirm password",u,!0]].map((function(e,t){return Object(r.jsx)(me,{label:e[0],value:e[1],required:e[2],changeHandler:function(t){return a({type:"fieldChange",field:e[0],value:t.currentTarget.value})}},t)})),Object(r.jsx)(we.a,{control:Object(r.jsx)(Ce.a,{icon:Object(r.jsx)(Se.a,{}),checkedIcon:Object(r.jsx)(Q.a,{}),onChange:function(e){e.preventDefault(),a({type:"admin"})}}),label:"Administrative control?"}),Object(r.jsx)($.a,{variant:"contained",color:"primary",onClick:g,children:"Sign up"}),h?Object(r.jsx)("p",{children:"FICK"}):null,b?Object(r.jsx)(xe,{message:l,type:"error"}):null,O?Object(r.jsx)(xe,{message:O,type:"success"}):null]}),Object(r.jsxs)("p",{id:"Signup__wrapper__onboard",children:["For the purposes of this project, passwords are encrypted using",Object(r.jsx)("a",{href:"https://en.wikipedia.org/wiki/Bcrypt",children:" bcrypt"}),", and email adresses are retained to send order confirmations.",Object(r.jsx)("br",{})," ",Object(r.jsx)("br",{})," By clicking on that wrench, you'll have access to review orders, be able to update shipping statuses, and add products and categories. ",Object(r.jsx)("br",{})," ",Object(r.jsx)("br",{}),"Enjoy, and let me know your thoughts!"]})]})})}),Ae=(c(146),c(90)),Ne=c.n(Ae),Ee=(c(161),function(e){var t=e.products,c=e.emptyCart,a=Object(n.useState)({success:!1,paymentToken:null,error:"",instance:{},address:""}),i=Object(q.a)(a,2),o=i[0],d=i[1],j=R(),l=j.user,b=j.token,h=function(){(function(e,t){var c={headers:{Authorization:"Bearer ".concat(t)}};return p.a.get("https://jg-telephono.herokuapp.com/api/checkout/paymenttoken"+"/".concat(e),c).then((function(e){return e.data}))})(l._id,b).then((function(e){e.error?d(Object(u.a)(Object(u.a)({},o),{},{error:e.error})):d(Object(u.a)(Object(u.a)({},o),{},{paymentToken:e.clientToken}))}))};Object(n.useEffect)((function(){h()}),[]);var O=function(e){d(Object(u.a)(Object(u.a)({},o),{},{address:e.target.value}))},f=function(){o.instance.requestPaymentMethod().then((function(e){var r={paymentMethodNonce:e.nonce,amount:m()};(function(e,t,c){var r={headers:{Authorization:"Bearer ".concat(t)}};return p.a.post("https://jg-telephono.herokuapp.com/api/checkout"+"/".concat(e),c,r).then((function(e){return e.data}))})(l._id,b,r).then((function(e){var r={transaction_id:e.transaction._id,amount:e.transaction.amount,products:t,address:o.address,clientData:l};!function(e,t,c){var r={headers:{Authorization:"Bearer ".concat(t)}};p.a.post("https://jg-telephono.herokuapp.com/api/orders/create"+"/".concat(e),c,r).then((function(e){return e.data}))}(l._id,b,r),d(Object(u.a)(Object(u.a)({},o),{},{success:e.success})),c((function(){}))})).catch((function(e){}))})).catch((function(e){d(Object(u.a)(Object(u.a)({},o),{},{error:e.message}))}))},m=function(){return t.reduce((function(e,t){return e+t.quantity*t.price}),0)};return Object(r.jsxs)("div",{id:"Checkout",children:[Object(r.jsxs)("h2",{id:"total-cost",children:["Total cost: $",m()]}),l?o.paymentToken&&t.length?Object(r.jsxs)("div",{onBlur:function(){return d(Object(u.a)(Object(u.a)({},o),{},{error:""}))},id:"checkout-dropin",children:[Object(r.jsx)("textarea",{id:"address",onChange:O,value:o.address,placeholder:"Shipping address"}),Object(r.jsx)(Ne.a,{options:{authorization:o.paymentToken,paypal:{flow:"vault"}},onInstance:function(e){d(Object(u.a)(Object(u.a)({},o),{},{instance:e}))}}),Object(r.jsx)($.a,{variant:"contained",color:"primary",onClick:f,children:"Check out"})]}):null:Object(r.jsx)(s.b,{to:"/signup",children:"Register to confirm purchase"}),o.error?Object(r.jsx)(xe,{message:o.error,type:"error"}):o.success?Object(r.jsx)(xe,{message:"Purchase confirmed - thank you!",type:"success"}):void 0]})}),Pe=(c(162),function(){var e=Object(n.useState)([]),t=Object(q.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!1),o=Object(q.a)(i,2),s=o[0],d=o[1];return Object(n.useEffect)((function(){a("undefined"!==typeof window&&localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[])}),[s]),Object(r.jsx)(ce,{title:"Cart",description:"Confirm order details",page:"Cart",children:c.length?Object(r.jsxs)("div",{className:"content-wrapper",children:[Object(r.jsx)("div",{id:"products",children:c.map((function(e){return Object(r.jsx)(se,{product:e,inCart:!0,setUpdate:d,update:s})}))}),Object(r.jsx)(Ee,{products:c,emptyCart:T})]}):Object(r.jsx)("h2",{children:"There are no products currently in your cart"})})}),Ie=function(e){var t=e.name,c=e.email,n=e._id,a=e.createdAt;return Object(r.jsxs)("section",{id:"Account__details",children:[Object(r.jsx)("h3",{children:"Account Details"}),Object(r.jsxs)("ul",{children:[Object(r.jsxs)("li",{children:["Name: ",t]}),Object(r.jsxs)("li",{children:["Email: ",c]}),Object(r.jsxs)("li",{children:["Account ID: ",n]}),Object(r.jsxs)("li",{children:["Account created at: ",a]}),Object(r.jsx)(s.b,{to:x,children:"View my order history"})]})]})},Le=function(){return Object(r.jsxs)("div",{id:"admin-links",children:[Object(r.jsx)("h3",{children:"Administrative links"}),Object(r.jsx)(s.b,{to:S,children:"Category manager"}),Object(r.jsx)(s.b,{to:_,children:"Product manager "})]})},Re=(c(163),function(){var e,t=R().user,c=t.role,n=(t.history,t.email),a=t.name,i=t._id,o=t.createdAt;return e=c?"Administrator":"Client",Object(r.jsxs)(ce,{title:a,description:e,page:"Account",children:[Object(r.jsx)(Ie,{name:a,email:n,_id:i,createdAt:o}),Object(r.jsxs)("section",{id:"Account__options",children:[Object(r.jsx)("h3",{children:"Need to update your information? "}),Object(r.jsx)(s.b,{to:c?y:g,children:"Update account"}),c?Object(r.jsx)(Le,{}):null]})]})}),Be=(c(164),function(){var e,t=Object(n.useState)(R().user),c=Object(q.a)(t,2),a=c[0],i=c[1],o=Object(n.useState)(R().token),s=Object(q.a)(o,2),d=s[0],j=(s[1],function(e){e.preventDefault();var t={headers:{Authorization:"Bearer ".concat(d)}};p.a.post("https://jg-telephono.herokuapp.com/api/user/update/"+a._id,{userProfile:a},t).then((function(e){var t;t=e.data,"undefined"!==typeof window&&localStorage.setItem("jwt",JSON.stringify(t))}))}),l=a.name,b=a.email,h=a.password,O=a.role,f=(a._id,function(e,t){if(e.preventDefault(),"role"===t)return i(O?Object(u.a)(Object(u.a)({},a),{},{role:0}):Object(u.a)(Object(u.a)({},a),{},{role:1}));i(Object(u.a)(Object(u.a)({},a),{},Object(re.a)({},t,e.target.value)))}),m=[{name:l},{email:b},{password:h}];return e="".concat(l,O?" (Administrator)":" (Client)"),Object(r.jsx)(ce,{title:"Update Account Information",description:e,page:"UpdateAccount",children:Object(r.jsx)("div",{id:"UpdateAccount__wrapper",children:a&&Object(r.jsxs)("form",{id:"UpdateAccount__wrapper__form",children:[m.map((function(e,t){return Object(r.jsx)(me,{label:Object.keys(m[t])[0],value:a[e],changeHandler:function(e){return f(e,Object.keys(m[t])[0])}})})),Object(r.jsx)(we.a,{control:Object(r.jsx)(Ce.a,{icon:Object(r.jsx)(Se.a,{}),checkedIcon:Object(r.jsx)(Q.a,{}),onChange:function(e){e.preventDefault(),f(e,"role")},value:O,checked:!!O}),label:"Administrative? "}),Object(r.jsx)($.a,{onClick:function(e){j(e)},variant:"contained",color:"primary",children:"Submit"})]})})})}),De=c(69),Ue={products:[],listLength:0,availableCategories:[],activeCategories:[],priceRange:[],skip:0,limit:6};function qe(e,t){switch(t.type){case"setAvailableCategories":return Object(u.a)(Object(u.a)({},e),{},{availableCategories:t.value});case"addActiveCategory":var c=e.activeCategories;return c.push(t.value),Object(u.a)(Object(u.a)({},e),{},{activeCategories:c});case"removeActiveCategory":var r=e.activeCategories.filter((function(e){return e!==t.value}));return Object(u.a)(Object(u.a)({},e),{},{activeCategories:r});case"setPriceRange":return Object(u.a)(Object(u.a)({},e),{},{priceRange:t.value});case"setQuerySkip":return Object(u.a)(Object(u.a)({},e),{},{skip:t.value});case"setQueryLimit":return Object(u.a)(Object(u.a)({},e),{},{limit:t.value});case"setProducts":return Object(u.a)(Object(u.a)({},e),{},{products:t.value});case"loadMoreProducts":return Object(u.a)(Object(u.a)({},e),{},{products:[].concat(Object(De.a)(e.products),Object(De.a)(t.value))});case"setListLength":return Object(u.a)(Object(u.a)({},e),{},{listLength:t.value})}return e}var Te=function(e){var t=e.availableCategories,c=e.handleChange;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("ul",{className:"categories",children:[Object(r.jsx)("h2",{children:"Category "}),t.map((function(e,t){return Object(r.jsxs)("li",{className:"categories__option",children:[Object(r.jsx)("label",{children:e.name}),Object(r.jsx)("input",{type:"checkbox",onChange:function(){return c(e._id)}})]},t)}))]})})},Me=function(e){var t=e.priceRanges,c=e.handleChange,a=Object(n.useState)(0),i=Object(q.a)(a,2),o=i[0],s=i[1];return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("ul",{className:"priceRanges",children:[Object(r.jsx)("h2",{children:"Price "}),t.map((function(e,t){return Object(r.jsxs)("li",{className:"priceRanges__option",children:[Object(r.jsx)("label",{children:e.name}),Object(r.jsx)("input",{type:"checkbox",value:"".concat(e._id),onChange:function(e){s(e.target.value),c(e.target.value)},checked:e._id==o})]},t)}))]})})},Fe=(c(165),function(){var e=Object(n.useReducer)(qe,Ue),t=Object(q.a)(e,2),c=t[0],a=t[1],i=c.availableCategories,o=c.activeCategories,s=c.priceRange,d=c.skip,u=c.limit,j=c.products,l=c.listLength;Object(n.useEffect)((function(){p.a.get(E).then((function(e){a({type:"setAvailableCategories",value:e.data})}))}),[]),Object(n.useEffect)((function(){h(),a({type:"setQuerySkip",value:0})}),[JSON.stringify(o),s]);var h=function(){var e={category:o,price:s};p.a.post(I,{skip:d,limit:u,filters:e}).then((function(e){a({type:"setProducts",value:e.data.products}),a({type:"setListLength",value:e.data.listLength})}))};return Object(r.jsx)(ce,{title:"Shop",description:"Find something right",page:"Shop",children:Object(r.jsxs)("div",{className:"content-wrapper",children:[Object(r.jsxs)("section",{id:"Shop__filter",children:[Object(r.jsx)(Te,{availableCategories:i,handleChange:function(e){var t=o.indexOf(e);a(-1===t?{type:"addActiveCategory",value:e}:{type:"removeActiveCategory",value:e})}}),Object(r.jsx)(Me,{priceRanges:b,handleChange:function(e){var t=b.filter((function(t){return t._id==e}));a({type:"setPriceRange",value:t[0].range})}})]}),Object(r.jsx)("section",{id:"Shop__products",children:j.map((function(e,t){return Object(r.jsx)(se,{product:e},t)}))}),function(){if(l-6-d>0)return Object(r.jsx)("button",{onClick:function(){return function(){var e={category:o,price:s};a({type:"setQuerySkip",value:d+u}),p.a.post(I,{skip:d,limit:u,filters:e}).then((function(e){a({type:"loadMoreProducts",value:e.data.products})}))}()},children:"Load more"})}()]})})}),$e=(c(166),function(){var e=Object(n.useState)({}),t=Object(q.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)([]),o=Object(q.a)(i,2),s=o[0],u=o[1],j=Object(n.useState)(!1),l=Object(q.a)(j,2),b=(l[0],l[1],Object(d.g)().productId);Object(n.useEffect)((function(){!function(e){window.scrollTo(0,0),p.a.get(P+"/".concat(e)).then((function(e){a(e.data[0])})),p.a.get("https://jg-telephono.herokuapp.com/api/products/related"+"/".concat(e)).then((function(e){u(e.data)}))}(b)}),[b]);return Object(r.jsx)(ce,{title:c.name||"Couldn't find product",description:"Product details",page:"Product",children:Object(r.jsxs)("div",{className:"content-wrapper",children:[function(e){var t=e.description,n=e.name,a=e.price,i=e.quantity,o=e.shipping,s=e._id;if(c.name)return Object(r.jsxs)("div",{id:"product-display",children:[Object(r.jsx)(oe,{_id:b}),Object(r.jsxs)("div",{id:"product-details",children:[Object(r.jsx)("h2",{children:n}),Object(r.jsx)("p",{children:t}),Object(r.jsxs)("h2",{id:"price",children:["$",a]}),Object(r.jsxs)("div",{id:"reference",children:[Object(r.jsxs)("h3",{children:["Units available: ",i]}),Object(r.jsx)("h3",{children:o?"Shipping available":"Shipping unavailable"}),Object(r.jsxs)("h3",{children:["Product id: ",s]})]})]})]})}(c),s[0]?Object(r.jsxs)("div",{id:"related-products",children:[Object(r.jsx)("h2",{children:"Related Products"}),Object(r.jsx)("div",{id:"products",children:s.map((function(e,t){return Object(r.jsx)(se,{product:e},t)}))})]}):null]})})}),He=(c(167),function(){var e=Object(n.useState)([]),t=Object(q.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)("_id"),o=Object(q.a)(i,2),d=o[0],u=o[1],j=Object(n.useState)("desc"),l=Object(q.a)(j,2),b=l[0],h=l[1];Object(n.useEffect)((function(){p.a.get(P+"?sortBy=".concat(d,"&order=").concat(b,"&limit=20")).then((function(e){a(e.data)}))}),[d,b]);return Object(r.jsx)(ce,{title:"Product management",description:"Add or edit products",page:"ProductManagement",children:Object(r.jsxs)("div",{id:"ProductManagement__wrapper",children:[Object(r.jsxs)("div",{id:"ProductManagement__wrapper__add",children:[Object(r.jsx)("h2",{children:"Have a new product?"}),Object(r.jsx)(s.b,{to:w,children:"Add one here"})]}),Object(r.jsxs)("div",{id:"ProductManagement__wrapper__sort",children:[Object(r.jsx)("select",{value:d,onChange:function(e){u(e.target.value)},children:[["_id","Date"],["sales","Sales"]].map((function(e,t){return Object(r.jsx)("option",{value:e[0],children:e[1]},t)}))}),Object(r.jsx)("select",{value:b,onChange:function(e){h(e.target.value)},children:[["asc","Ascending"],["desc","Descending"]].map((function(e,t){return Object(r.jsx)("option",{value:e[0],children:e[1]},t)}))})]}),Object(r.jsx)("div",{id:"ProductManagement__wrapper__products",children:c.map((function(e){return function(e){var t=e.name,c=e._id,n=e.quantity,a=e.sales,i=e.createdAt;return Object(r.jsxs)("div",{className:"product",children:[Object(r.jsx)("h2",{children:t}),Object(r.jsxs)("p",{children:["Product id: ",c]}),Object(r.jsxs)("p",{children:["Units remaining: ",n]}),Object(r.jsxs)("p",{children:["Units sold: ",a," "]}),Object(r.jsxs)("p",{children:["Created at: ",i]}),Object(r.jsx)(s.b,{to:C+"/"+c,children:"Edit product"})]})}(e)}))})]})})}),Je={product:{name:"",category:"",description:"",price:0,quantity:0,shipping:1,img:""},categories:[],error:"",renderError:"",loading:!1,success:!1};function ze(e,t){switch(t.type){case"setUpdateModeData":return Object(u.a)(Object(u.a)({},e),{},{product:t.product,categories:t.categories});case"fieldChange":return Object(u.a)(Object(u.a)({},e),{},{product:Object(u.a)(Object(u.a)({},e.product),{},Object(re.a)({},t.field,t.value))});case"setCategories":return Object(u.a)(Object(u.a)({},e),{},{categories:t.value});case"error":return Object(u.a)(Object(u.a)({},e),{},{renderError:!0,error:t.value});case"clearError":return Object(u.a)(Object(u.a)({},e),{},{renderError:!1,error:""});case"loading":return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case"loadComplete":return Object(u.a)(Object(u.a)({},e),{},{loading:!1});case"success":return Object(u.a)(Object(u.a)({},e),{},{success:t.value})}return e}var Qe=function(e){var t=p.a.get(E),c=p.a.get(P+"/"+e);return p.a.all([t,c]).then((function(e){return{categories:e[0].data,product:e[1].data[0]}}))},Ke=function(e){var t=new FormData;return e.category&&0===e.category.length&&delete e.category,Object.keys(e).forEach((function(c){t.append(c,e[c])})),t},Ve=function(e,t){var c={headers:{Authorization:"Bearer ".concat(t.token)}};p.a.post("".concat("https://jg-telephono.herokuapp.com/api/products/new/"+t.user._id),e,c).then((function(e){return e.data}))},Ye=function(e,t,c){var r={headers:{Authorization:"Bearer ".concat(c.token)}};p.a.post("".concat("https://jg-telephono.herokuapp.com/api/products/update/"+e+"/"+c.user._id),t,r).then((function(e){return e.data}))},We=(c(168),function(e){var t=e.mode,c=Object(n.useReducer)(ze,Object(u.a)(Object(u.a)({},Je),{},{mode:t})),a=Object(q.a)(c,2),i=a[0],o=a[1],s=R(),j=Object(d.g)().productId;Object(n.useEffect)((function(){(function(){var e=Object(be.a)(pe.a.mark((function e(){var c,r;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Update"!==t){e.next=7;break}return e.next=3,Qe(j);case 3:c=e.sent,o({type:"setUpdateModeData",product:c.product,categories:c.categories}),e.next=11;break;case 7:return e.next=9,p.a.get(E).then((function(e){return e.data}));case 9:r=e.sent,o({type:"setCategories",value:r});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var l=i.categories,b=i.product,h=(i.error,i.renderError,i.loading,i.success,function(){var e=Object(be.a)(pe.a.mark((function e(c){var r;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Ke(b),e.t0=t,e.next="Update"===e.t0?4:"Add"===e.t0?6:8;break;case 4:return Ye(j,r,s),e.abrupt("return");case 6:return Ve(r,s),e.abrupt("return");case 8:return e.abrupt("return");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O=function(e){return[["name",!0],["description",!1],["price",!0],["quantity",!1]].map((function(t,c){return Object(r.jsx)(me,{label:t[0],value:b[t[0]],changeHandler:function(e){e.preventDefault(),o({type:"fieldChange",field:t[0],value:e.currentTarget.value})},placeholder:e?b[t[0]]:null,required:t[1]},c)}))},f=function(){return Object(r.jsxs)("div",{id:"selectors",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"Product category:"}),Object(r.jsxs)("select",{name:"category",value:b.category,onChange:function(e){e.preventDefault(),o({type:"fieldChange",field:"category",value:e.target.value})},children:[Object(r.jsx)("option",{value:"",children:"None"}),l.map((function(e,t){return Object(r.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"Shipping?"}),Object(r.jsxs)("select",{name:"shipping",value:b.shipping,onChange:function(e){e.preventDefault(),o({type:"fieldChange",field:"shipping",value:e.target.value})},children:[Object(r.jsx)("option",{value:1,children:"Shipping allowed"}),Object(r.jsx)("option",{value:0,children:"Shipping disabled"})]})]})]})};return Object(r.jsx)(ce,{title:"".concat(t," product"),page:"ProductEditor",description:"Change the details of ".concat(b.name),children:Object(r.jsxs)("div",{id:"wrapper",className:"".concat(t),children:[Object(r.jsxs)("div",{id:"images",children:["Update"===t?Object(r.jsxs)("div",{id:"img-current",children:[Object(r.jsx)("h2",{children:"Current image"}),Object(r.jsx)(oe,{_id:j})]}):null,Object(r.jsxs)("div",{id:"img-updated",children:[Object(r.jsx)("h2",{children:"Selected image"}),Object(r.jsx)(oe,{image:b.img&&URL.createObjectURL(b.img),isPreview:!0})]})]}),Object(r.jsxs)("form",{children:["Update"===t?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Update current information"}),O(!0),f()]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Enter product information"}),O(!1),f()]}),Object(r.jsxs)("div",{id:"imgUpdater",children:[Object(r.jsx)("h3",{children:"Change product image?"}),Object(r.jsx)("label",{for:"img",children:"Upload new image"}),Object(r.jsx)("input",{type:"file",accept:"image/*",id:"img",onChange:function(e){o({type:"fieldChange",field:"img",value:e.target.files[0]})}})]}),Object(r.jsx)($.a,{id:"ProductEditor__wrapper__button",onClick:h,variant:"contained",color:"primary",children:"".concat(t," this product")})]})]})})}),Ge=(c(169),function(){var e=Object(n.useState)([]),t=Object(q.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)({}),o=Object(q.a)(i,2),d=o[0],j=o[1];Object(n.useEffect)((function(){p.a.get(E).then((function(e){a(e.data)}))}),[]),Object(n.useEffect)((function(){var e={};c&&c.forEach((function(t){e[t._id]=t.name})),j(e)}),[c]);var l=R(),b=l.user,h=l.token,O={headers:{Authorization:"Bearer ".concat(h)}},f=function(e){var t=e.name,c=e._id;return Object(r.jsxs)("div",{className:"category",children:[Object(r.jsx)("h2",{children:t}),Object(r.jsx)(me,{label:"Change category name",value:d[c]||"",changeHandler:function(e){j(Object(u.a)(Object(u.a)({},d),{},Object(re.a)({},c,e.target.value)))},required:!0}),Object(r.jsxs)("div",{className:"btn-wrapper",children:[Object(r.jsx)($.a,{onClick:function(){!function(e,t){p.a.post("https://jg-telephono.herokuapp.com/api/categories/update/"+e+"/"+b._id,{name:t},O).then((function(e){e.data.nModified&&window.location.reload()}))}(c,d[c])},variant:"contained",color:"primary",children:"Submit changes"}),Object(r.jsx)($.a,{onClick:function(){var e;e=c,p.a.delete(E+"/"+e+"/"+b._id,O).then((function(){window.location.reload()}))},variant:"contained",color:"primary",children:"Delete category"})]})]})};return Object(r.jsx)(ce,{title:"Product Category management",description:"Add, alter, or delete product categories",page:"CategoryManagement",children:Object(r.jsxs)("div",{id:"CategoryManagement__wrapper",children:[Object(r.jsxs)("div",{id:"CategoryManagement__wrapper__add",children:[Object(r.jsx)("h2",{children:"Need a new category?"}),Object(r.jsx)(s.b,{to:k,children:"Add a new one here"})]}),c.map((function(e){return f(e)}))]})})}),Xe={Name:"",Error:"",RenderError:!1,Loading:!1,Success:!1};function Ze(e,t){switch(t.type){case"fieldChange":return Object(u.a)(Object(u.a)({},e),{},Object(re.a)({},t.field,t.value));case"error":return Object(u.a)(Object(u.a)({},e),{},{RenderError:!0,Error:t.value});case"clearError":return Object(u.a)(Object(u.a)({},e),{},{RenderError:!1,Error:""});case"loading":return Object(u.a)(Object(u.a)({},e),{},{Loading:!0});case"loadComplete":return Object(u.a)(Object(u.a)({},e),{},{Loading:!1});case"success":return Object(u.a)(Object(u.a)({},e),{},{Success:!0})}return e}c(170);var et=function(){var e=Object(n.useReducer)(Ze,Xe),t=Object(q.a)(e,2),c=t[0],a=t[1],i=c.Name,o=c.Error,s=c.RenderError,u=c.Loading,j=c.Success;if(j)return Object(r.jsx)(d.a,{to:"/"});var l,b=function(){var e=Object(be.a)(pe.a.mark((function e(t){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a({type:"clearError"}),a({type:"loading"}),l&&clearTimeout(l),e.next=6,c=i,void p.a.post("".concat("https://jg-telephono.herokuapp.com/api/categories/new"),{name:c}).then((function(){a({type:"success"})})).catch((function(e){a({type:"error",value:e.response.data.error})}));case 6:a({type:"loadComplete"}),l=setTimeout((function(){a({type:"clearError"})}),2e3);case 8:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(ce,{title:"Add a Product Category",description:"Pick a category name for new products",page:"AddCategory",children:Object(r.jsx)("div",{id:"AddCategory__wrapper",children:Object(r.jsxs)("form",{id:"AddCategory__wrapper__form",children:[Object(r.jsx)(me,{label:"Category name",value:i,required:!0,changeHandler:function(e){return a({type:"fieldChange",field:"Name",value:e.currentTarget.value})}}),Object(r.jsx)($.a,{variant:"contained",color:"primary",onClick:b,children:"Add new category"}),u?Object(r.jsx)("p",{children:"FICK"}):null,s?Object(r.jsx)(xe,{message:o,type:"error"}):null,j?Object(r.jsx)(xe,{message:j,type:"success"}):null]})})})},tt=(c(171),function(){var e=Object(n.useState)([]),t=Object(q.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)([]),o=Object(q.a)(i,2),d=o[0],j=o[1],l=Object(n.useState)({}),b=Object(q.a)(l,2),h=b[0],O=b[1],f=R(),m=f.user._id,g=f.token,x={headers:{Authorization:"Bearer ".concat(g)}};Object(n.useEffect)((function(){p.a.get("https://jg-telephono.herokuapp.com/api/orders"+"/".concat(m),x).then((function(e){var t=e.data;a(t);var c={};t.forEach((function(e){c[e._id]=e.status})),O(c)})),p.a.get("https://jg-telephono.herokuapp.com/api/orders/shipmentvalues"+"/".concat(m),x).then((function(e){j(e.data)}))}),[]);var v=function(e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("section",{className:"order__productsInfo",children:[Object(r.jsx)("h2",{children:"Products"}),e.map((function(e){var t=e._id,c=e.name,n=e.price,a=e.quantity;return Object(r.jsxs)("div",{className:"order__productsInfo__product",children:[Object(r.jsx)(s.b,{to:"/product/".concat(t),children:Object(r.jsx)("h3",{children:c})}),Object(r.jsxs)("p",{children:["Product id: ",t]}),Object(r.jsxs)("p",{children:["Price per unit: $",n]}),Object(r.jsxs)("p",{children:["Quantity: ",a]})]})}))]})})},y=function(e){var t=e.name,c=e._id,n=e.email;return Object(r.jsxs)("section",{className:"order__clientInfo",children:[Object(r.jsx)("h2",{children:"Client"}),Object(r.jsxs)("p",{children:["Client id: ",c]}),Object(r.jsxs)("p",{children:["Name: ",t]}),Object(r.jsxs)("p",{children:["Email: ",n]})]})},_=function(e,t,c,n){return Object(r.jsxs)("section",{className:"order__orderInfo",children:[Object(r.jsx)("h2",{children:"Order"}),Object(r.jsxs)("p",{children:["Order id: ",t]}),Object(r.jsxs)("p",{children:["Shipping address: ",e]}),Object(r.jsxs)("p",{children:["Total cost: $",n]}),Object(r.jsxs)("p",{children:["Time stamp: ",c]}),Object(r.jsxs)("div",{className:"order__orderInfo__status",children:[Object(r.jsx)("p",{children:"Order status:"}),Object(r.jsx)("select",{onChange:function(e){return w(e,t)},value:h[t],children:d.map((function(e){return Object(r.jsx)("option",{value:e,children:e})}))})]})]})},w=function(e,t){var c=e.target.value;O(Object(u.a)(Object(u.a)({},h),{},Object(re.a)({},t,c))),p.a.post("https://jg-telephono.herokuapp.com/api/orders/updatestatus"+"/".concat(m,"/").concat(t),{newStatus:c},x)};return Object(r.jsx)(ce,{title:"All Orders",description:"Update the order status!",page:"AllOrders",children:c.map((function(e){var t=e.address,c=e._id,n=e.products,a=e.createdAt,i=e.amount,o=e.clientData;return Object(r.jsxs)("div",{className:"order",children:[_(t,c,a,i),y(o),v(n)]})}))})}),ct=(c(172),function(){var e=Object(n.useState)([]),t=Object(q.a)(e,2),c=t[0],a=t[1],i=R(),o=i.user._id,s=i.token,d={headers:{Authorization:"Bearer ".concat(s)}};Object(n.useEffect)((function(){p.a.get("https://jg-telephono.herokuapp.com/api/orders/history/"+o,d).then((function(e){return a(e.data)}))}),[]);var u=function(e){return Object(r.jsxs)("ul",{className:"order__products",children:[Object(r.jsx)("h2",{children:"Products ordered"}),e.map((function(e){var t=e._id,c=e.quantity,n=e.name,a=e.price;return Object(r.jsxs)("li",{className:"order__products__product",children:[Object(r.jsxs)("p",{children:["Name: ",n," "]}),Object(r.jsxs)("p",{children:["Id: ",t," "]}),Object(r.jsxs)("p",{children:["Quantity: ",c," "]}),Object(r.jsxs)("p",{children:["Price per unit: $",a," "]})]})}))]})};return Object(r.jsx)(ce,{title:"Your order history",description:"Here's all the details",page:"UserOrders",children:Object(r.jsx)(r.Fragment,{children:c.map((function(e){return function(e){var t=e.status,c=e._id,n=e.amount,a=e.products,i=e.address,o=e.user,s=e.createdAt,d=e.updatedAt;return Object(r.jsxs)("section",{className:"order",children:[Object(r.jsx)("h2",{children:"Order information"}),Object(r.jsxs)("p",{children:["Your id: ",o]}),Object(r.jsxs)("p",{children:["Order id: ",c]}),Object(r.jsxs)("p",{children:["Shipped to: ",i]}),Object(r.jsxs)("p",{children:["Order status: ",t," "]}),Object(r.jsxs)("p",{children:["Date of order: ",s]}),Object(r.jsxs)("p",{children:["Last updated at: ",d," "]}),Object(r.jsxs)("p",{children:["Amount charged: $",n]}),u(a)]})}(e)}))})})}),rt=function(){return Object(r.jsxs)(s.a,{children:[Object(r.jsx)(Z,{}),Object(r.jsxs)(d.d,{children:[Object(r.jsx)(d.b,{path:"/",exact:!0,component:je}),Object(r.jsx)(d.b,{path:"/shop",exact:!0,component:Fe}),Object(r.jsx)(d.b,{path:"/product/:productId",exact:!0,component:$e}),Object(r.jsx)(d.b,{path:h,exact:!0,component:ke}),Object(r.jsx)(d.b,{path:O,exact:!0,component:ve}),Object(r.jsx)(D,{path:f,exact:!0,component:Pe}),Object(r.jsx)(D,{path:m,exact:!0,component:Re}),Object(r.jsx)(D,{path:g,exact:!0,component:Be}),Object(r.jsx)(D,{path:x,exact:!0,component:ct}),Object(r.jsx)(U,{path:v,exact:!0,component:Re}),Object(r.jsx)(U,{path:y,exact:!0,component:Be}),Object(r.jsx)(U,{path:_,exact:!0,component:He}),Object(r.jsx)(U,{path:w,exact:!0,component:function(){return Object(r.jsx)(We,{mode:"Add"})}}),Object(r.jsx)(U,{path:C+"/:productId",exact:!0,component:function(){return Object(r.jsx)(We,{mode:"Update"})}}),Object(r.jsx)(U,{path:S,exact:!0,component:Ge}),Object(r.jsx)(U,{path:k,exact:!0,component:et}),Object(r.jsx)(U,{path:A,exact:!0,component:tt})]})]})};c(173);o.a.render(Object(r.jsx)(a.a.Fragment,{children:Object(r.jsx)(rt,{})}),document.getElementById("App"))}},[[174,1,2]]]);
//# sourceMappingURL=main.0c70aa8c.chunk.js.map